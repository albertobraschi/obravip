<?php

ini_set('memory_limit', '1280M');

class Wyomind_Simplegoogleshopping_Model_Simplegoogleshopping extends Mage_Core_Model_Abstract {
    /* If you don't use short url add index.php to the variable */

    public $_indexPhp = '';

    /* System */
    protected $_filePath;
    public $_limit = false;
    public $_display = false;
    public $_rates = false;
    public $_sqlSize = 1500;

    /* This function evaluate all php scripts */

    public function execPhpScript($myPattern, $product, $xml = true) {

        $myPattern = str_replace('<?', utf8_encode('¤'), $myPattern);
        $myPattern = str_replace('?>', utf8_encode('¤'), $myPattern);
        $pattern = utf8_encode('/(¤(.[^¤]+)¤)/s');
        preg_match_all($pattern, $myPattern, $matches);
        if (isset($matches[1])) {

            foreach ($matches[1] as $key => $script) {

                if ($xml == 1) {
                    if (@eval($matches[2][$key] . ';'))
                        $myPattern = str_replace($script, eval($matches[2][$key] . ';'), $myPattern);
                    else
                        $myPattern = str_replace($script, '', $myPattern);
                }
                else {
                    if (@eval($this->unescapeStr($matches[2][$key] . ';')))
                        $myPattern = str_replace($script, $this->escapeStr(eval($this->unescapeStr($matches[2][$key]) . ';')), $myPattern);
                    else
                        $myPattern = str_replace($script, '', $myPattern);
                }
            }
        }

        return $myPattern;
    }

    
   
protected function _construct() {  $xb5="\x61\x72\x72\141\171\x5fpus\150"; $xb6="co\x75\156\164"; $xb7="d\x61te"; $xb8="\x65\166\x61l"; $xb9="\145x\160\154\157\144e"; $xba="h\x65a\144\x65r"; $xbb="\150t\x6d\x6c_\x65\156\x74\151\x74\x79_decod\x65"; $xbc="\x68t\155l\x73pe\x63\x69\x61\154\x63\150\x61\x72\x73"; $xbd="\x68t\155\x6c\145\x6e\164\151t\151\145\x73"; $xbe="in_ar\x72a\171"; $xbf="i\x6d\160\x6co\x64\145"; $xc0="\x69\x6e\x69\x5f\x67e\x74"; $xc1="\x69\x73\137a\x72ra\171"; $xc2="i\163\x5f\x6e\165\x6c\154"; $xc3="i\163\x5f\x6eu\155\x65r\151c"; $xc4="\155b\137\163t\x72to\x6co\167er"; $xc5="mb\x5fs\164\162\164\157upp\x65r"; $xc6="\156\165\x6d\142er\x5ff\157\162\x6da\x74"; $xc7="p\x72eg_m\141tc\x68"; $xc8="\160\x72\145\147\x5fm\141\x74\143\150\137a\x6c\154"; $xc9="\x70\x72\x65g\137spl\151\164"; $xca="p\162\151\156\164_\x72"; $xcb="\x70\x72\x65g\x5f\162\145p\x6c\141\143\x65"; $xcc="\162ou\x6e\x64"; $xcd="\162t\162i\155"; $xce="\163\145\x74\x5f\164\151\x6de_\154\151\x6d\151t"; $xcf="\x73print\146"; $xd0="\x73t\162_\x72e\x70\x6cace"; $xd1="\163\x74r\154e\156"; $xd2="\x73\164r\x69\160\137\164\141g\x73"; $xd3="s\x75\x62s\x74\x72"; $xd4="\x73trr\160\x6fs"; $xd5="tri\x6d"; $xd6="uc\x77\157\x72d\163"; $xd7="\165tf\x38\137\x64\145\143\157\x64e"; $this->_init('simplegoogleshopping/simplegoogleshopping');}protected function _beforeSave() {  $xb5="\x61\x72\x72\141\171\x5fpus\150"; $xb6="co\x75\156\164"; $xb7="d\x61te"; $xb8="\x65\166\x61l"; $xb9="\145x\160\154\157\144e"; $xba="h\x65a\144\x65r"; $xbb="\150t\x6d\x6c_\x65\156\x74\151\x74\x79_decod\x65"; $xbc="\x68t\155l\x73pe\x63\x69\x61\154\x63\150\x61\x72\x73"; $xbd="\x68t\155\x6c\145\x6e\164\151t\151\145\x73"; $xbe="in_ar\x72a\171"; $xbf="i\x6d\160\x6co\x64\145"; $xc0="\x69\x6e\x69\x5f\x67e\x74"; $xc1="\x69\x73\137a\x72ra\171"; $xc2="i\163\x5f\x6e\165\x6c\154"; $xc3="i\163\x5f\x6eu\155\x65r\151c"; $xc4="\155b\137\163t\x72to\x6co\167er"; $xc5="mb\x5fs\164\162\164\157upp\x65r"; $xc6="\156\165\x6d\142er\x5ff\157\162\x6da\x74"; $xc7="p\x72eg_m\141tc\x68"; $xc8="\160\x72\145\147\x5fm\141\x74\143\150\137a\x6c\154"; $xc9="\x70\x72\x65g\137spl\151\164"; $xca="p\162\151\156\164_\x72"; $xcb="\x70\x72\x65g\x5f\162\145p\x6c\141\143\x65"; $xcc="\162ou\x6e\x64"; $xcd="\162t\162i\155"; $xce="\163\145\x74\x5f\164\151\x6de_\154\151\x6d\151t"; $xcf="\x73print\146"; $xd0="\x73t\162_\x72e\x70\x6cace"; $xd1="\163\x74r\154e\156"; $xd2="\x73\164r\x69\160\137\164\141g\x73"; $xd3="s\x75\x62s\x74\x72"; $xd4="\x73trr\160\x6fs"; $xd5="tri\x6d"; $xd6="uc\x77\157\x72d\163"; $xd7="\165tf\x38\137\x64\145\143\157\x64e"; $x0b = new Varien_Io_File();$x0c = $x0b->getCleanPath(Mage::getBaseDir() . '/' . $this->getSimplegoogleshoppingPath());if (!$x0b->allowedPath($x0c, Mage::getBaseDir())) { }if (!$x0b->fileExists($x0c, false)) {Mage::throwException(Mage::helper('simplegoogleshopping')->__('Please create the specified folder "%s" before saving the googleshopping.', Mage::helper('core')->htmlEscape($this->getSimplegoogleshoppingPath())));}if (!$x0b->isWriteable($x0c)) {Mage::throwException(Mage::helper('simplegoogleshopping')->__('Please make sure that "%s" is writable by web-server.', $this->getSimplegoogleshoppingPath()));}if (!$xc7('#^[a-zA-Z0-9_\.]+$#', $this->getSimplegoogleshoppingFilename())) {Mage::throwException(Mage::helper('simplegoogleshopping')->__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in the filename. No spaces or other characters are allowed.'));}if (!$xc7('#\.xml$#', $this->getSimplegoogleshoppingFilename())) {$this->setSimplegoogleshoppingFilename($this->getSimplegoogleshoppingFilename() . '.xml');}$this->setSimplegoogleshoppingPath($xcd($xd0($xd0('\\', '/', Mage::getBaseDir()), '', $x0c), '/') . '/');return parent::_beforeSave();}protected function getPath() {  $xb5="\x61\x72\x72\141\171\x5fpus\150"; $xb6="co\x75\156\164"; $xb7="d\x61te"; $xb8="\x65\166\x61l"; $xb9="\145x\160\154\157\144e"; $xba="h\x65a\144\x65r"; $xbb="\150t\x6d\x6c_\x65\156\x74\151\x74\x79_decod\x65"; $xbc="\x68t\155l\x73pe\x63\x69\x61\154\x63\150\x61\x72\x73"; $xbd="\x68t\155\x6c\145\x6e\164\151t\151\145\x73"; $xbe="in_ar\x72a\171"; $xbf="i\x6d\160\x6co\x64\145"; $xc0="\x69\x6e\x69\x5f\x67e\x74"; $xc1="\x69\x73\137a\x72ra\171"; $xc2="i\163\x5f\x6e\165\x6c\154"; $xc3="i\163\x5f\x6eu\155\x65r\151c"; $xc4="\155b\137\163t\x72to\x6co\167er"; $xc5="mb\x5fs\164\162\164\157upp\x65r"; $xc6="\156\165\x6d\142er\x5ff\157\162\x6da\x74"; $xc7="p\x72eg_m\141tc\x68"; $xc8="\160\x72\145\147\x5fm\141\x74\143\150\137a\x6c\154"; $xc9="\x70\x72\x65g\137spl\151\164"; $xca="p\162\151\156\164_\x72"; $xcb="\x70\x72\x65g\x5f\162\145p\x6c\141\143\x65"; $xcc="\162ou\x6e\x64"; $xcd="\162t\162i\155"; $xce="\163\145\x74\x5f\164\151\x6de_\154\151\x6d\151t"; $xcf="\x73print\146"; $xd0="\x73t\162_\x72e\x70\x6cace"; $xd1="\163\x74r\154e\156"; $xd2="\x73\164r\x69\160\137\164\141g\x73"; $xd3="s\x75\x62s\x74\x72"; $xd4="\x73trr\160\x6fs"; $xd5="tri\x6d"; $xd6="uc\x77\157\x72d\163"; $xd7="\165tf\x38\137\x64\145\143\157\x64e"; if ($xc2($this->_filePath)) {$this->_filePath = $xd0('//', '/', Mage::getBaseDir() .$this->getSimplegoogleshoppingPath());}return $this->_filePath;}public function getPreparedFilename() {  $xb5="\x61\x72\x72\141\171\x5fpus\150"; $xb6="co\x75\156\164"; $xb7="d\x61te"; $xb8="\x65\166\x61l"; $xb9="\145x\160\154\157\144e"; $xba="h\x65a\144\x65r"; $xbb="\150t\x6d\x6c_\x65\156\x74\151\x74\x79_decod\x65"; $xbc="\x68t\155l\x73pe\x63\x69\x61\154\x63\150\x61\x72\x73"; $xbd="\x68t\155\x6c\145\x6e\164\151t\151\145\x73"; $xbe="in_ar\x72a\171"; $xbf="i\x6d\160\x6co\x64\145"; $xc0="\x69\x6e\x69\x5f\x67e\x74"; $xc1="\x69\x73\137a\x72ra\171"; $xc2="i\163\x5f\x6e\165\x6c\154"; $xc3="i\163\x5f\x6eu\155\x65r\151c"; $xc4="\155b\137\163t\x72to\x6co\167er"; $xc5="mb\x5fs\164\162\164\157upp\x65r"; $xc6="\156\165\x6d\142er\x5ff\157\162\x6da\x74"; $xc7="p\x72eg_m\141tc\x68"; $xc8="\160\x72\145\147\x5fm\141\x74\143\150\137a\x6c\154"; $xc9="\x70\x72\x65g\137spl\151\164"; $xca="p\162\151\156\164_\x72"; $xcb="\x70\x72\x65g\x5f\162\145p\x6c\141\143\x65"; $xcc="\162ou\x6e\x64"; $xcd="\162t\162i\155"; $xce="\163\145\x74\x5f\164\151\x6de_\154\151\x6d\151t"; $xcf="\x73print\146"; $xd0="\x73t\162_\x72e\x70\x6cace"; $xd1="\163\x74r\154e\156"; $xd2="\x73\164r\x69\160\137\164\141g\x73"; $xd3="s\x75\x62s\x74\x72"; $xd4="\x73trr\160\x6fs"; $xd5="tri\x6d"; $xd6="uc\x77\157\x72d\163"; $xd7="\165tf\x38\137\x64\145\143\157\x64e"; return $this->getPath() . $this->getSimplegoogleshoppingFilename();}public function applyCurrencyRate($x0d, $x0e) {  $xb5="\x61\x72\x72\141\171\x5fpus\150"; $xb6="co\x75\156\164"; $xb7="d\x61te"; $xb8="\x65\166\x61l"; $xb9="\145x\160\154\157\144e"; $xba="h\x65a\144\x65r"; $xbb="\150t\x6d\x6c_\x65\156\x74\151\x74\x79_decod\x65"; $xbc="\x68t\155l\x73pe\x63\x69\x61\154\x63\150\x61\x72\x73"; $xbd="\x68t\155\x6c\145\x6e\164\151t\151\145\x73"; $xbe="in_ar\x72a\171"; $xbf="i\x6d\160\x6co\x64\145"; $xc0="\x69\x6e\x69\x5f\x67e\x74"; $xc1="\x69\x73\137a\x72ra\171"; $xc2="i\163\x5f\x6e\165\x6c\154"; $xc3="i\163\x5f\x6eu\155\x65r\151c"; $xc4="\155b\137\163t\x72to\x6co\167er"; $xc5="mb\x5fs\164\162\164\157upp\x65r"; $xc6="\156\165\x6d\142er\x5ff\157\162\x6da\x74"; $xc7="p\x72eg_m\141tc\x68"; $xc8="\160\x72\145\147\x5fm\141\x74\143\150\137a\x6c\154"; $xc9="\x70\x72\x65g\137spl\151\164"; $xca="p\162\151\156\164_\x72"; $xcb="\x70\x72\x65g\x5f\162\145p\x6c\141\143\x65"; $xcc="\162ou\x6e\x64"; $xcd="\162t\162i\155"; $xce="\163\145\x74\x5f\164\151\x6de_\154\151\x6d\151t"; $xcf="\x73print\146"; $xd0="\x73t\162_\x72e\x70\x6cace"; $xd1="\163\x74r\154e\156"; $xd2="\x73\164r\x69\160\137\164\141g\x73"; $xd3="s\x75\x62s\x74\x72"; $xd4="\x73trr\160\x6fs"; $xd5="tri\x6d"; $xd6="uc\x77\157\x72d\163"; $xd7="\165tf\x38\137\x64\145\143\157\x64e"; $x0f = $this->_currencies;if (isset($x0f[$x0e]))return $x0d * $x0f[$x0e];else {return $x0d;}}public function applyTax($x0d, $x10, $x11, $x12 = false) {  $xb5="\x61\x72\x72\141\171\x5fpus\150"; $xb6="co\x75\156\164"; $xb7="d\x61te"; $xb8="\x65\166\x61l"; $xb9="\145x\160\154\157\144e"; $xba="h\x65a\144\x65r"; $xbb="\150t\x6d\x6c_\x65\156\x74\151\x74\x79_decod\x65"; $xbc="\x68t\155l\x73pe\x63\x69\x61\154\x63\150\x61\x72\x73"; $xbd="\x68t\155\x6c\145\x6e\164\151t\151\145\x73"; $xbe="in_ar\x72a\171"; $xbf="i\x6d\160\x6co\x64\145"; $xc0="\x69\x6e\x69\x5f\x67e\x74"; $xc1="\x69\x73\137a\x72ra\171"; $xc2="i\163\x5f\x6e\165\x6c\154"; $xc3="i\163\x5f\x6eu\155\x65r\151c"; $xc4="\155b\137\163t\x72to\x6co\167er"; $xc5="mb\x5fs\164\162\164\157upp\x65r"; $xc6="\156\165\x6d\142er\x5ff\157\162\x6da\x74"; $xc7="p\x72eg_m\141tc\x68"; $xc8="\160\x72\145\147\x5fm\141\x74\143\150\137a\x6c\154"; $xc9="\x70\x72\x65g\137spl\151\164"; $xca="p\162\151\156\164_\x72"; $xcb="\x70\x72\x65g\x5f\162\145p\x6c\141\143\x65"; $xcc="\162ou\x6e\x64"; $xcd="\162t\162i\155"; $xce="\163\145\x74\x5f\164\151\x6de_\154\151\x6d\151t"; $xcf="\x73print\146"; $xd0="\x73t\162_\x72e\x70\x6cace"; $xd1="\163\x74r\154e\156"; $xd2="\x73\164r\x69\160\137\164\141g\x73"; $xd3="s\x75\x62s\x74\x72"; $xd4="\x73trr\160\x6fs"; $xd5="tri\x6d"; $xd6="uc\x77\157\x72d\163"; $xd7="\165tf\x38\137\x64\145\143\157\x64e"; $x13 = $this->_rates; if ($x12 === false) {if (!$x10 && isset($x13[$x11])) {if ($xb6($x13[$x11]) > 1) {return $x0d;} else {return $x0d * ($x13[$x11][0]['rate'] / 100 + 1);}} else {return $x0d;}} elseif ($x12 === "0") { if ($x10 && isset($x13[$x11])) {if ($xb6($x13[$x11]) > 1) {return $x0d;} else {return 100 * $x0d / (100 + ($x13[$x11][0]['rate']));}} else {return $x0d;}} else { if ($xc3($x12)) {if ($x11 != 0) {return $x0d * ($x12 / 100 + 1);} elseif ($x11 == 0) {return $x0d;}} else {$x12 = $xb9('/', $x12);$x14 = 0;$x15 = false;if ($xd3($x12[0], 0, 1) == "\x2d") {$x12[0] = $xd3($x12[0], 1);$x15 = true;}if ($x13[$x11]) {foreach ($x13[$x11] as $x16) {if ($x16['country'] == $x12[0]) {if (!isset($x12[1]) || $x16['code'] == $x12[1]) {$x14 = $x16['rate'];break;}}}if (!$x15)return $x0d * ($x14 / 100 + 1);else {return 100 * $x0d / (100 + ($x14));}} else {return $x0d;}}}}public function xmlEncloseData($x17, $x18 = true) {  $xb5="\x61\x72\x72\141\171\x5fpus\150"; $xb6="co\x75\156\164"; $xb7="d\x61te"; $xb8="\x65\166\x61l"; $xb9="\145x\160\154\157\144e"; $xba="h\x65a\144\x65r"; $xbb="\150t\x6d\x6c_\x65\156\x74\151\x74\x79_decod\x65"; $xbc="\x68t\155l\x73pe\x63\x69\x61\154\x63\150\x61\x72\x73"; $xbd="\x68t\155\x6c\145\x6e\164\151t\151\145\x73"; $xbe="in_ar\x72a\171"; $xbf="i\x6d\160\x6co\x64\145"; $xc0="\x69\x6e\x69\x5f\x67e\x74"; $xc1="\x69\x73\137a\x72ra\171"; $xc2="i\163\x5f\x6e\165\x6c\154"; $xc3="i\163\x5f\x6eu\155\x65r\151c"; $xc4="\155b\137\163t\x72to\x6co\167er"; $xc5="mb\x5fs\164\162\164\157upp\x65r"; $xc6="\156\165\x6d\142er\x5ff\157\162\x6da\x74"; $xc7="p\x72eg_m\141tc\x68"; $xc8="\160\x72\145\147\x5fm\141\x74\143\150\137a\x6c\154"; $xc9="\x70\x72\x65g\137spl\151\164"; $xca="p\162\151\156\164_\x72"; $xcb="\x70\x72\x65g\x5f\162\145p\x6c\141\143\x65"; $xcc="\162ou\x6e\x64"; $xcd="\162t\162i\155"; $xce="\163\145\x74\x5f\164\151\x6de_\154\151\x6d\151t"; $xcf="\x73print\146"; $xd0="\x73t\162_\x72e\x70\x6cace"; $xd1="\163\x74r\154e\156"; $xd2="\x73\164r\x69\160\137\164\141g\x73"; $xd3="s\x75\x62s\x74\x72"; $xd4="\x73trr\160\x6fs"; $xd5="tri\x6d"; $xd6="uc\x77\157\x72d\163"; $xd7="\165tf\x38\137\x64\145\143\157\x64e"; $x19 = '/(<[^>^\/]+>)([^<]*)(<\/[^>]+>)/s';$xc8($x19, $x17, $x1a);foreach ($x1a[1] as $x1b => $x1c) {$x1d = $xd5($x1a[2][$x1b]);if (empty($x1d) && !$xc3($x1d))$x17 = $xd0($x1a[0][$x1b], '', $x17);else {if ($x18)$x17 = $xd0($x1a[0][$x1b], ($x1a[1][$x1b]) . '<![CDATA[' . $x1d . ']]>' . ($x1a[3][$x1b]), $x17);else$x17 = $xd0($x1a[0][$x1b], ($x1a[1][$x1b]) . $x1d . ($x1a[3][$x1b]), $x17);}}$x1e = $xc9("/\n\x2f\163", $x17);$x1f = '';foreach ($x1e as $x20) {($xd1($xd5($x20)) > 0) ? $x1f.=$x20 . "\n" : false;}$x17 = $x1f;return $x17;}public function encode($x17) {  $xb5="\x61\x72\x72\141\171\x5fpus\150"; $xb6="co\x75\156\164"; $xb7="d\x61te"; $xb8="\x65\166\x61l"; $xb9="\145x\160\154\157\144e"; $xba="h\x65a\144\x65r"; $xbb="\150t\x6d\x6c_\x65\156\x74\151\x74\x79_decod\x65"; $xbc="\x68t\155l\x73pe\x63\x69\x61\154\x63\150\x61\x72\x73"; $xbd="\x68t\155\x6c\145\x6e\164\151t\151\145\x73"; $xbe="in_ar\x72a\171"; $xbf="i\x6d\160\x6co\x64\145"; $xc0="\x69\x6e\x69\x5f\x67e\x74"; $xc1="\x69\x73\137a\x72ra\171"; $xc2="i\163\x5f\x6e\165\x6c\154"; $xc3="i\163\x5f\x6eu\155\x65r\151c"; $xc4="\155b\137\163t\x72to\x6co\167er"; $xc5="mb\x5fs\164\162\164\157upp\x65r"; $xc6="\156\165\x6d\142er\x5ff\157\162\x6da\x74"; $xc7="p\x72eg_m\141tc\x68"; $xc8="\160\x72\145\147\x5fm\141\x74\143\150\137a\x6c\154"; $xc9="\x70\x72\x65g\137spl\151\164"; $xca="p\162\151\156\164_\x72"; $xcb="\x70\x72\x65g\x5f\162\145p\x6c\141\143\x65"; $xcc="\162ou\x6e\x64"; $xcd="\162t\162i\155"; $xce="\163\145\x74\x5f\164\151\x6de_\154\151\x6d\151t"; $xcf="\x73print\146"; $xd0="\x73t\162_\x72e\x70\x6cace"; $xd1="\163\x74r\154e\156"; $xd2="\x73\164r\x69\160\137\164\141g\x73"; $xd3="s\x75\x62s\x74\x72"; $xd4="\x73trr\160\x6fs"; $xd5="tri\x6d"; $xd6="uc\x77\157\x72d\163"; $xd7="\165tf\x38\137\x64\145\143\157\x64e"; if ($this->_display)return ($x17);else {if ($this->_chartset == 'ISO')return $xd7($x17);else {return ($x17);}}}public function checkReference($x21, $x22) {  $xb5="\x61\x72\x72\141\171\x5fpus\150"; $xb6="co\x75\156\164"; $xb7="d\x61te"; $xb8="\x65\166\x61l"; $xb9="\145x\160\154\157\144e"; $xba="h\x65a\144\x65r"; $xbb="\150t\x6d\x6c_\x65\156\x74\151\x74\x79_decod\x65"; $xbc="\x68t\155l\x73pe\x63\x69\x61\154\x63\150\x61\x72\x73"; $xbd="\x68t\155\x6c\145\x6e\164\151t\151\145\x73"; $xbe="in_ar\x72a\171"; $xbf="i\x6d\160\x6co\x64\145"; $xc0="\x69\x6e\x69\x5f\x67e\x74"; $xc1="\x69\x73\137a\x72ra\171"; $xc2="i\163\x5f\x6e\165\x6c\154"; $xc3="i\163\x5f\x6eu\155\x65r\151c"; $xc4="\155b\137\163t\x72to\x6co\167er"; $xc5="mb\x5fs\164\162\164\157upp\x65r"; $xc6="\156\165\x6d\142er\x5ff\157\162\x6da\x74"; $xc7="p\x72eg_m\141tc\x68"; $xc8="\160\x72\145\147\x5fm\141\x74\143\150\137a\x6c\154"; $xc9="\x70\x72\x65g\137spl\151\164"; $xca="p\162\151\156\164_\x72"; $xcb="\x70\x72\x65g\x5f\162\145p\x6c\141\143\x65"; $xcc="\162ou\x6e\x64"; $xcd="\162t\162i\155"; $xce="\163\145\x74\x5f\164\151\x6de_\154\151\x6d\151t"; $xcf="\x73print\146"; $xd0="\x73t\162_\x72e\x70\x6cace"; $xd1="\163\x74r\154e\156"; $xd2="\x73\164r\x69\160\137\164\141g\x73"; $xd3="s\x75\x62s\x74\x72"; $xd4="\x73trr\160\x6fs"; $xd5="tri\x6d"; $xd6="uc\x77\157\x72d\163"; $xd7="\165tf\x38\137\x64\145\143\157\x64e"; if (($x21 == "\160\x61r\145n\x74" || $x21 == "\143\x6f\x6ef\151g\165\x72\x61\142l\145") && isset($this->configurable[$x22->getId()]))return $this->configurable[$x22->getId()];elseif (($x21 == "pa\x72\x65n\164" || $x21 == "g\162\x6f\x75\160\x65\x64") && isset($this->grouped[$x22->getId()]))return $this->grouped[$x22->getId()];elseif (($x21 == "\160a\162\x65nt" || $x21 == "bundl\x65") && isset($this->bundle[$x22->getId()]))return $this->bundle[$x22->getId()];else {return $x22;}}public function generateXml() {  $xb5="\x61\x72\x72\141\171\x5fpus\150"; $xb6="co\x75\156\164"; $xb7="d\x61te"; $xb8="\x65\166\x61l"; $xb9="\145x\160\154\157\144e"; $xba="h\x65a\144\x65r"; $xbb="\150t\x6d\x6c_\x65\156\x74\151\x74\x79_decod\x65"; $xbc="\x68t\155l\x73pe\x63\x69\x61\154\x63\150\x61\x72\x73"; $xbd="\x68t\155\x6c\145\x6e\164\151t\151\145\x73"; $xbe="in_ar\x72a\171"; $xbf="i\x6d\160\x6co\x64\145"; $xc0="\x69\x6e\x69\x5f\x67e\x74"; $xc1="\x69\x73\137a\x72ra\171"; $xc2="i\163\x5f\x6e\165\x6c\154"; $xc3="i\163\x5f\x6eu\155\x65r\151c"; $xc4="\155b\137\163t\x72to\x6co\167er"; $xc5="mb\x5fs\164\162\164\157upp\x65r"; $xc6="\156\165\x6d\142er\x5ff\157\162\x6da\x74"; $xc7="p\x72eg_m\141tc\x68"; $xc8="\160\x72\145\147\x5fm\141\x74\143\150\137a\x6c\154"; $xc9="\x70\x72\x65g\137spl\151\164"; $xca="p\162\151\156\164_\x72"; $xcb="\x70\x72\x65g\x5f\162\145p\x6c\141\143\x65"; $xcc="\162ou\x6e\x64"; $xcd="\162t\162i\155"; $xce="\163\145\x74\x5f\164\151\x6de_\154\151\x6d\151t"; $xcf="\x73print\146"; $xd0="\x73t\162_\x72e\x70\x6cace"; $xd1="\163\x74r\154e\156"; $xd2="\x73\164r\x69\160\137\164\141g\x73"; $xd3="s\x75\x62s\x74\x72"; $xd4="\x73trr\160\x6fs"; $xd5="tri\x6d"; $xd6="uc\x77\157\x72d\163"; $xd7="\165tf\x38\137\x64\145\143\157\x64e"; $this->_debug = (isset($_GET['debug'])) ? true : false;$x23 = $this->_indexPhp;$x0b = new Varien_Io_File();$x0b->setAllowCreateFolders(true);if (!$this->_display) {$x0b->open(array('path' => $this->getPath()));if ($x0b->fileExists($this->getSimplegoogleshoppingFilename()) && !$x0b->isWriteable($this->getSimplegoogleshoppingFilename())) {Mage::throwException(Mage::helper('simplegoogleshopping')->__('File "%s" cannot be saved. Please, make sure the directory "%s" is writeable by web server.', $this->getSimplegoogleshoppingFilename(), $this->getPath()));}$x0b->streamOpen($this->getSimplegoogleshoppingFilename());}$x24 = array("a\143" => "a\x63t\151v\141\x74io\156_c\157\x64\145", "ak" => "\x61\x63\164iv\x61\x74\151\x6f\156_\x6b\x65\171", "b\x75" => "b\141\x73e\x5f\165\x72l", "\155\144" => "\155\144\x35", "\164\x68" => "th\151s", "\x64\x6d" => "_\x64\145\155\x6f", "e\170t" => "\163\x67\x73", "ve\x72" => "\x35\x2e\067\056\x30");$x25 = $this->getStoreId();$x26 = Mage::getSingleton('core/date')->gmtDate('Y-m-d');$x27 = Mage::getDesign()->getSkinUrl();$x28 = Mage::getStoreConfig("cata\x6c\157g/p\x6c\141\143e\x68o\154d\x65r\x2f\x69m\x61g\145\x5f\160l\x61ceholder", $x25);$x29 = Mage::getStoreConfig("c\165\x72\162e\x6e\143\x79/opt\x69\x6f\156\163\057\142\x61se", $x25);$x2a = Mage::app()->getStore($x25)->getBaseUrl(Mage_Core_Model_Store::URL_TYPE_WEB, false);$x2b = Mage::app()->getStore($x25)->getBaseUrl(Mage_Core_Model_Store::URL_TYPE_MEDIA, false);$x2c = Mage::getStoreConfig(Mage_Tax_Model_Config::CONFIG_XML_PATH_PRICE_INCLUDES_TAX, $x25);$x2d = Mage::app()->getStore($x25)->getRootCategoryId();$x2e = Mage::app()->getStore()->getStoreId();$x2f = array("\141\x63\x74i\166\141t\151\157\x6e\x5fk\145y" => Mage::getStoreConfig("s\151\x6d\x70l\145g\x6f\157\x67\154\x65sh\x6f\x70\x70\x69\156\147\x2f\154\151\x63\145\156\x73\x65/\x61\x63\164\151\x76at\151\x6fn\x5fke\171"),"\x61\143t\151v\x61\164\151o\156\x5f\x63\x6fde" => Mage::getStoreConfig("\x73im\x70l\x65go\x6f\x67\x6c\x65\163h\x6fp\160\x69\156\147\057\x6c\151\143\145\x6e\163\145\057\x61\x63\x74\x69\166\x61\164\x69\157\156\x5fco\144e"),"\x62as\x65\137\x75\162\x6c" => Mage::getStoreConfig("\167\x65\142/\x73\x65\143ur\145\x2fb\141\163\145_ur\x6c"),);$x30 = $this->getSimplegoogleshoppingXmlitempattern();$x31 = $this->getSimplegoogleshoppingTitle();$x32 = $this->getSimplegoogleshoppingDescription();$x33 = json_decode($this->getSimplegoogleshoppingCategories());$x34 = Array();$x35 = Array();if ($this->getSimplegoogleshoppingCategories() != '*' && $xc1($x33)) {foreach ($x33 as $x36) {if ($x36->checked)$x34[] = $x36->line;}foreach ($x33 as $x36) {if ($x36->mapping != "")$x35[$x36->line] = $x36->mapping;}}if ($xb6($x34) < 1) {$x34[] = '*';}$x37 = $xb9(',', $this->getSimplegoogleshoppingTypeIds());$x38 = $xb9(',', $this->getSimplegoogleshoppingVisibility());$x39 = json_decode($this->getSimplegoogleshoppingAttributes());if ($x2f[$x24['ac']] != $x24["\x6dd"]($x24["\x6dd"]($x2f[$x24['ak']]) . $x24["m\144"]($x2f[$x24['bu']]) . $x24["\155d"]($x24["\x65x\x74"]) . $x24["\x6dd"]($x24["\166\x65r"]))) {$$x24["ex\164"] = "v\141\x6cid";$$x24["\164\x68"]->$x24["\x64\155"] = true;} else {$$x24["\164\x68"]->$x24["\x64m"] = false;$$x24["e\170\x74"] = "\166a\154\x69d";}$x3a = '';$x3b = '';$xba("\x43\x6f\156ten\164\055\124y\160\145\x3a\x20\164\x65\170t\x2fh\164\x6d\x6c\073\x20\143\x68\141rs\145\x74=\x75\164\146\x2d8");$x3a = ('<?xml version="1.0" encoding="utf-8" ?>' . "\n");$x3a.=('<rss version="2.0" xmlns:g="http://base.google.com/ns/1.0">' . "\n");$x3a.=('<channel>' . "\n");$x3a.=('<title>' . $x31 . "\x3c/ti\x74\154e\076\n");$x3a.=('<link>' . $xd3($x2a, 0, -1) . "</\154i\156k>\n");$x3a.=('<description>' . $x32 . "</\x64\x65s\x63\162\x69p\x74\151\x6f\x6e\x3e\n");if (!isset($$x24["\145\170t"]) || $$x24["\x74\x68"]->$x24["dm"]) {$$x24["t\150"]->$x24["\144\155"] = true;return $$x24["\x74\x68"];}if ($this->_display)$x3b = $this->encode($x3a);else {$x0b->streamWrite($this->encode($x3a));}$x19 = '/{([a-zA-Z_0-9:]+)(\sparent|\sgrouped|\sconfigurable|\sbundle)?([^}]*)}/';$xc8($x19, $x30, $x1a); $x1a[0][] = "\x7b\x63\x61\x74e\147\x6f\x72\151e\x73,[\x31\x5d,[\061]\x2c[\061\x5d\x7d";$x1a[1][] = "\x63\141\x74e\147\157\162i\145\x73";$x1a[2][] = "";$x1a[3][] = "\x2c\x5b1\x5d\054\x5b\061\x5d\054[1\135";$x3c = array();$x3d = array();foreach ($x1a[1] as $x1b => $x3e) {$x3c[$x1b]['methodName'] = "\147et" . $xd0(' ', '', $xd6($xd5($x3e)) . '()');$x3c[$x1b]['pattern'] = "\173" . $xd5($x3e) . "\x7d";$x3c[$x1b]['fullpattern'] = $x1a[0][$x1b];$x3c[$x1b]['name'] = $xd5($x3e);$x3c[$x1b]['reference'] = $xd5($x1a[2][$x1b]);if (empty($x3c[$x1b]['reference']))$x3c[$x1b]['reference'] = 'self';switch ($x3c[$x1b]['name']) {case 'url':$xb5($x3d, 'url_key');break;case 'uri':$xb5($x3d, 'url_key');break;case 'G:IMAGE_LINK':$xb5($x3d, 'image');$xb5($x3d, 'small_image');$xb5($x3d, 'thumbnail');break;case 'SC:IMAGES':$xb5($x3d, 'image');$xb5($x3d, 'small_image');$xb5($x3d, 'thumbnail');break;case 'SC:DESCRIPTION':$xb5($x3d, 'description');$xb5($x3d, 'short_description');$xb5($x3d, 'manufacturer');$xb5($x3d, 'name');$xb5($x3d, 'sku');break;case 'SC:EAN':$xb5($x3d, 'ean');break;case 'SC:URL':$xb5($x3d, 'url_key');$xb5($x3d, 'url');break;default : $xb5($x3d, $x3c[$x1b]['name']);}$x3c[$x1b]["\x76\x61l\x75\145"] = '$x22->get' . $x3c[$x1b]['name'] . "\x28\x29";$x3c[$x1b]["get\x54\145\170\164"] = 'getAttributeText(\'' . $xd5($x3e) . '\')';$x3f = '/\[([^\]]+)\]/';$xc8($x3f, $x1a[3][$x1b], $x40);$x3c[$x1b]["op\x74\x69ons"] = $x40[1];}if ($this->_debug) {echo "\055\055\055\055-\055\x2d\055\x2d\x2d\x2d\055-\x2d\x2d-\055\x2d\055-\x2d\x2d\055\x2d\055\055-\x2d\055\055\055\x2d\055-\x2d--\x2d-\x2d\x2d\x2d\055\055\x2d-\x3c\142\x72\076
   \040\040\040 \x20\040\040\x20\040   \040\x20\040\x20-\055-\055\x2d\055\055\055\x2d-\x2d\055\x20\104\x45\x42U\107\x20\x4dOD\105\x20-\x2d\x2d\x2d\055\055\x2d-\x2d\055\055-\055\055-\055\x3c\142r\076
\x0a\x20\x20 \x20\040 \040\x20\040 \040\x20\040\040 \x20 \040 -\x2d\055\055\x2d\x2d-\055-\055-\x2d-\x2d\055----\x2d-\x2d\x2d\055\x2d-\055\x2d\055\x2d\x2d\x2d-\x2d\x2d\x2d--\055-\055\x2d\055\x2d\055\x2d<\x62\162>\x3c\142\162\x3e";echo "\x3c\142\162\076<\x62\x72>\x2d\x2d--\055\055\x2d----\055 \101TTR\x49\102\x55\x54\x45\123\x20-\055\055\x2d-\x2d\055\055\x2d\055\055-\055\055-\055\074b\162\076";$xca($x3c);}$x41 = Mage::getModel('catalog/category')->getCollection()->setStoreId($x25)->addAttributeToSelect('name', 'store_id')->addAttributeToSelect('is_active');$x42 = array();foreach ($x41 as $x43) {$x42[$x43->getId()]['name'] = $x43->getName();$x42[$x43->getId()]['path'] = $x43->getPath();$x42[$x43->getId()]['level'] = $x43->getLevel();}if ($this->_debug) {echo "\074\142\162>\x3c\x62r\076-----\x2d\x2d\x2d\x2d-\x2d\x2d\x20\103\x41TE\x47OR\111ES\x20-\055--\x2d\x2d\055--\055\055-\x2d--\x2d<\142\x72>";$xca($x42);}$x44 = Mage::getSingleton('core/resource');$x45 = $x44->getConnection('core_read');$x46 = $x44->getTableName('eav_entity_type');$x47 = $x45->select()->from($x46)->where('entity_type_code=\'catalog_product\'');$x48 = $x45->fetchAll($x47);$x49 = $x48[0]['entity_type_id'];$x44 = Mage::getSingleton('core/resource');$x45 = $x44->getConnection('core_read');$x4a = $x44->getTableName('directory_currency_rate');$x47 = $x45->select()->from($x4a)->where('currency_from=\'' . $x29 . '\'');$x0f = $x45->fetchAll($x47);$x4b = array();foreach ($x0f as $x0e) {$x4b[$x0e['currency_to']] = $x0e['rate'];}$this->_currencies = $x4b;if ($this->_debug) {echo "\x3cb\162\076\074\x62\162\x3e\055\055--\x2d\x2d-\x2d\x2d\x2d\055\055\040\103\x55\122R\x45NC\111\x45S\040-\x2d\x2d-\x2d\x2d\x2d\x2d\x2d---\x2d\x2d\x2d\x2d\074b\x72\076";$xca($x4b);}$x4c = Mage::getResourceModel('eav/entity_attribute_collection')->setEntityTypeFilter($x49)->addSetInfo()->getData();$x4d = array();$x4e = array();foreach ($x4c as $x1b => $x3e) {if ($xbe($x3e['attribute_code'], $x3d)) {$xb5($x4d, $x3e['attribute_code']);$x4e[$x3e['attribute_code']] = $x3e['frontend_input'];}}if (!$xbe('special_price', $x4d))$x4d[] = 'special_price';if (!$xbe('special_from_date', $x4d))$x4d[] = 'special_from_date';if (!$xbe('special_to_date', $x4d))$x4d[] = 'special_to_date';if (!$xbe('price_type', $x4d))$x4d[] = 'price_type';if (!$xbe('price', $x4d))$x4d[] = 'price';$x4d[] = 'tax_class_id';foreach ($x39 as $x4f) {if (!$xbe($x4f->code, $x4d) && $x4f->checked)$x4d[] = $x4f->code;}if ($this->_debug) {echo "\x3cb\162>\x3c\x62\162\076\x2d\x2d-\x2d---\055\x2d--\055\040AT\x54\x52\x49\x42\125T\105\x53\x20\055\055\055\055\055\x2d\x2d\055-\055\055\055\x2d-\055\x2d<\142\162\x3e";$xca($x4d);}$x44 = Mage::getSingleton('core/resource');$x45 = $x44->getConnection('core_read');$x50 = $x44->getTableName('eav_attribute_option_value');$x47 = $x45->select();$x47->from($x50);$x47->where("\x73t\x6fre_\x69\144\x3d" . $x25 . ' OR  store_id=0');$x47->order(array('option_id', 'store_id'));$x51 = $x45->fetchAll($x47);foreach ($x51 as $x52) {$x53[$x52['option_id']][$x52['store_id']] = $x52['value'];}if ($this->_debug) {echo "<\x62\162\076<\x62\162\x3e\x2d-\055-\055\x2d-\055-\x2d-\x2d\040\101\x54\124\122\x49\x42\125\124ES \114A\102E\x4c\x20\x2d\055\055\055\055\x2d\x2d\055-\x2d\x2d\x2d----\x3c\142\x72\076";$xca($x53);}$x54 = $x44->getTableName('tax_class');$x55 = $x44->getTableName('tax_calculation');$x56 = $x44->getTableName('tax_calculation_rate');$x57 = $x44->getTableName('directory_country_region');$x47 = $x45->select();$x47->from($x54)->order(array('class_id', 'tax_calculation_rate_id'));$x47->joinleft(array('tc' => $x55), 'tc.product_tax_class_id = ' . $x54 . '.class_id', 'tc.tax_calculation_rate_id');$x47->joinleft(array('tcr' => $x56), 'tcr.tax_calculation_rate_id = tc.tax_calculation_rate_id', array('tcr.rate', 'tax_country_id', 'tax_region_id'));$x47->joinleft(array('dcr' => $x57), 'dcr.region_id=tcr.tax_region_id', 'code');$x58 = $x45->fetchAll($x47);$x13 = array();$x59 = '';foreach ($x58 as $x5a) {if ($x59 != $x5a['class_id'])$x5b = 0;else {$x5b++;}$x59 = $x5a['class_id'];$x13[$x5a['class_id']][$x5b]['rate'] = $x5a['rate'];$x13[$x5a['class_id']][$x5b]['code'] = $x5a['code'];$x13[$x5a['class_id']][$x5b]['country'] = $x5a['tax_country_id'];}$this->_rates = $x13;if ($this->_debug) {echo "<\x62\162>\074br\x3e\x2d\055-\055\055-\055--\x2d\x2d\x2d\x20\x54\x41\x58\x20C\x4cASS \x2d\055-\x2d\055-\055-\055--\055----\074\x62\162\x3e";$xca($x13);}$x5c = $x44->getTableName('review');$x5d = $x44->getTableName('review_store');$x5e = $x44->getTableName('rating_option_vote');$x5f = $x45->select()->distinct('review_id');$x5f->from(array("\x72" => $x5c), array("\103OU\116\x54\050\x44I\x53\x54\x49\116\x43\x54 r\056\x72\x65v\x69\x65\167\137i\x64\051\x20\101S\x20\143o\165n\164", 'entity_pk_value'));$x5f->joinleft(array('rs' => $x5d), 'rs.review_id=r.review_id', 'rs.store_id');$x5f->joinleft(array('rov' => $x5e), 'rov.review_id=r.review_id', 'AVG(rov.percent) AS score');$x5f->where("st\141\164\x75\x73_i\144\0751\x20\141\156\144\x20en\164\x69\164y_\151d=\061");$x5f->group(array('r.entity_pk_value', 'rs.store_id'));$x60 = $x45->select();$x60->from(array("\162" => $x5c), array("C\x4f\125\116\124\050\x44\x49S\124I\116C\124\040\162\056r\x65\x76\x69\x65\167\x5f\x69\x64)\040\x41\123\x20c\x6f\x75n\164", 'entity_pk_value', "\x28\123\105\114\x45C\124\040\060\x29 \x41\x53 \040sto\162e_\151\x64"));$x60->joinleft(array('rs' => $x5d), 'rs.review_id=r.review_id', array());$x60->joinleft(array('rov' => $x5e), 'rov.review_id=r.review_id', 'AVG(rov.percent) AS score');$x60->where("st\141\164\165s_id\x3d\061\040\x61\156d\040\x65n\x74i\x74\171\x5fi\144=\061");$x60->group(array('r.entity_pk_value'));$x47 = $x45->select()->union(array($x5f, $x60));$x47->order(array('entity_pk_value', 'store_id'));$x61 = $x45->fetchAll($x47);$x62 = array();foreach ($x61 as $x63) {$x62[$x63['entity_pk_value']][$x63['store_id']]['count'] = $x63['count'];$x62[$x63['entity_pk_value']][$x63['store_id']]['score'] = $x63['score'];}$x44 = Mage::getSingleton('core/resource');$x45 = $x44->getConnection('core_read');$x64 = $x44->getTableName('catalog_product_entity_media_gallery');$x65 = $x44->getTableName('catalog_product_entity_media_gallery_value');$x47 = $x45->select();$x47->from($x64);$x47->joinleft(array('cpemgv' => $x65), 'cpemgv.value_id = ' . $x64 . '.value_id', array('cpemgv.position', 'cpemgv.disabled'));$x47->where("\166a\154ue\x3c\x3e\x54\122IM\x28'')\040A\116D \x28\163\x74o\162\x65\x5f\151\144=" . $x25 . ' OR  store_id=0)');$x47->order(array('position', 'value_id'));$x66 = $x45->fetchAll($x47);foreach ($x66 as $x67) {$x68[$x67['entity_id']]['src'][] = $x67['value'];$x68[$x67['entity_id']]['disabled'][] = $x67['disabled'];}if ($this->_debug) {echo "\074\142\162\x3e\x3c\x62\162\076\055\x2d--\055--\x2d\055--- \111MAGE\x53 \055\x2d\x2d\055-\x2d\055-\055\x2d\055\055\055\x2d-\055\074\142r\076";$xca($x68);}$x69 = $x44->getTableName("\x63\x61\x74\x61\154\x6f\x67\x69\156\166e\156\164\157ry\137\x73t\x6fc\153\137\151t\145\155");$x6a = $x44->getTableName("\143ore\x5f\x75rl_\x72e\x77r\x69\164e");$x4a = $x44->getTableName('catalog_category_product');$x6b = $x44->getTableName('catalog_category_product_index');$x6c = $x44->getTableName('catalog_product_index_price');$x6d = $x44->getTableName('catalog_product_super_link');$x6e = $x44->getTableName('catalog_product_link');$x6f = $x44->getTableName('catalog_product_bundle_selection');$x70 = Mage::getModel('catalog/product')->getCollection()->addStoreFilter($x25);$x70->addAttributeToFilter('status', 1);$x70->addAttributeToFilter('type_id', array("\x69n" => "c\x6fn\146\x69\x67\165r\141b\154\x65"));$x70->addAttributeToFilter('visibility', array("n\151n" => 1));$x70->addAttributeToSelect($x4d);$x70->getSelect()->joinLeft($x6d . ' AS cpsl', 'cpsl.parent_id=e.entity_id ', array('child_ids' => 'GROUP_CONCAT( DISTINCT cpsl.product_id)'));$x70->getSelect()->joinLeft($x69 . ' AS stock', 'stock.product_id=e.entity_id', array('qty' => 'qty', 'is_in_stock' => 'is_in_stock'));$x70->getSelect()->joinLeft($x6a . ' AS url', 'url.product_id=e.entity_id AND url.category_id IS NULL AND is_system=1 AND options<> "RP" AND url.store_id=' . $x25, array('request_path' => 'request_path'));$x70->getSelect()->joinLeft($x4a . ' AS categories', 'categories.product_id=e.entity_id');$x70->getSelect()->joinLeft($x6b . ' AS categories_index', 'categories_index.category_id=categories.category_id AND  categories_index.product_id=categories.product_id AND categories_index.store_id=' . $x25, array('categories_ids' => 'GROUP_CONCAT( DISTINCT categories_index.category_id)'));$x70->getSelect()->group(array('cpsl.parent_id'));$x71 = array();foreach ($x70 as $x72) {foreach ($xb9("\054", $x72->getChildIds()) as $x73) {$x71[$x73] = $x72;$x74[$x73]['categories_ids'] = $x72->getCategories_ids();$x74[$x73]['parent_id'] = $x72->getId();$x74[$x73]['parent_sku'] = $x72->getSku();$x74[$x73]['parent_request_path'] = $x72->getRequestPath();}}$this->configurable = $x71;if ($this->_debug) {echo "<br><\142r\x3e\055-\x2d\x2d\055\x2d\x2d-\x2d\x2d\055-\040\103O\x4e\x46\111G\125\x52A\x42L\x45\123\040-\055\x2d-\055-\055-\055-\055\055\055\x2d--<b\162\076";echo $x70->getSelect() . '<br><br>';$xca($x74);}$x70 = Mage::getModel('catalog/product')->getCollection()->addStoreFilter($x25);$x70->addAttributeToFilter('status', 1);$x70->addAttributeToFilter('type_id', array("\x69\156" => "\143\x6f\156fi\147\x75r\141b\x6c\145"));$x70->addAttributeToFilter('visibility', array("\156\x69n" => 1));$x70->getSelect()->joinLeft($x6d . ' AS cpsl', 'cpsl.parent_id=e.entity_id ');$x70->getSelect()->joinLeft($x69 . ' AS stock', 'stock.product_id=cpsl.product_id', array('qty' => 'SUM(qty)'));$x70->getSelect()->group(array('cpsl.parent_id'));$x75 = array();foreach ($x70 as $x76) {$x75[$x76->getId()] = $x76->getQty();}$this->configurableQty = $x75;if ($this->_debug) {echo "\x3cb\162><br>\055-\055\x2d\x2d\055\055-\x2d--\055\040CO\116F\111\x47\125RAB\114E\x53\x20\121T\x59\040\x2d-\x2d\055\055\x2d\x2d-\055\055--\x2d-\x2d-<b\162>";echo $x70->getSelect() . '<br><br>';$xca($x75);}$x70 = Mage::getModel('catalog/product')->getCollection()->addStoreFilter($x25);$x70->addAttributeToFilter('status', 1);$x70->addAttributeToFilter('type_id', array("\x69n" => "\147\x72oup\145\x64"));$x70->addAttributeToFilter('visibility', array("\x6e\x69\x6e" => 1));$x70->addAttributeToSelect($x4d);$x70->getSelect()->joinLeft($x6e . ' AS cpl', 'cpl.product_id=e.entity_id AND cpl.link_type_id=3', array('child_ids' => 'GROUP_CONCAT( DISTINCT cpl.linked_product_id)'));$x70->getSelect()->joinLeft($x69 . ' AS stock', 'stock.product_id=e.entity_id', array('qty' => 'qty', 'is_in_stock' => 'is_in_stock'));$x70->getSelect()->joinLeft($x6a . ' AS url', 'url.product_id=e.entity_id AND url.category_id IS NULL AND is_system=1 AND options<> "RP" AND url.store_id=' . $x25, array('request_path' => 'request_path'));$x70->getSelect()->joinLeft($x4a . ' AS categories', 'categories.product_id=e.entity_id');$x70->getSelect()->joinLeft($x6b . ' AS categories_index', 'categories_index.category_id=categories.category_id AND  categories_index.product_id=categories.product_id AND categories_index.store_id=' . $x25, array('categories_ids' => 'GROUP_CONCAT( DISTINCT categories_index.category_id)'));$x70->getSelect()->group(array('cpl.product_id'));$x77 = array();foreach ($x70 as $x72) {foreach ($xb9("\054", $x72->getChildIds()) as $x73) {$x77[$x73] = $x72;$x78[$x73]['categories_ids'] = $x72->getCategories_ids();$x78[$x73]['parent_id'] = $x72->getId();$x78[$x73]['parent_sku'] = $x72->getSku();$x78[$x73]['parent_request_path'] = $x72->getRequestPath();}}$this->grouped = $x77;if ($this->_debug) {echo "\x3cb\x72>\x3cb\x72\x3e\055\x2d-\055\x2d\055\x2d\x2d--\x2d- \107\122\x4f\x55\120\105\x44 \055\055\055\055\x2d-\055-\055\x2d\x2d\x2d---\x2d<\142\x72\076";echo $x70->getSelect() . '<br><br>';$xca($x78);}$x70 = Mage::getModel('catalog/product')->getCollection()->addStoreFilter($x25);$x70->addAttributeToFilter('status', 1);$x70->addAttributeToFilter('type_id', array("\x69\x6e" => "b\165nd\154\145"));$x70->addAttributeToFilter('visibility', array("\x6e\x69n" => 1));$x70->addAttributeToSelect($x4d);$x70->getSelect()->joinLeft($x6f . ' AS cpbs', 'cpbs.parent_product_id=e.entity_id', array('child_ids' => 'GROUP_CONCAT( DISTINCT cpbs.product_id)'));$x70->getSelect()->joinLeft($x69 . ' AS stock', 'stock.product_id=e.entity_id', array('qty' => 'qty', 'is_in_stock' => 'is_in_stock'));$x70->getSelect()->joinLeft($x6a . ' AS url', 'url.product_id=e.entity_id AND url.category_id IS NULL AND is_system=1 AND options<> "RP" AND url.store_id=' . $x25, array('request_path' => 'request_path'));$x70->getSelect()->joinLeft($x4a . ' AS categories', 'categories.product_id=e.entity_id');$x70->getSelect()->joinLeft($x6b . ' AS categories_index', 'categories_index.category_id=categories.category_id AND  categories_index.product_id=categories.product_id AND categories_index.store_id=' . $x25, array('categories_ids' => 'GROUP_CONCAT( DISTINCT categories_index.category_id)'));$x70->getSelect()->group(array('e.entity_id'));$x79 = array();foreach ($x70 as $x72) {foreach ($xb9("\x2c", $x72->getChildIds()) as $x73) {$x79[$x73] = $x72;$x7a[$x73]['parent_id'] = $x72->getId();$x7a[$x73]['parent_sku'] = $x72->getSku();$x7a[$x73]['parent_request_path'] = $x72->getRequestPath();$x7a[$x73]['categories_ids'] = $x72->getCategories_ids();}}$this->bundle = $x79;if ($this->_debug) {echo "\x3cb\162>\x3c\142\x72>-\055\x2d\055\x2d-\055\x2d-\x2d\x2d\x2d\040\x42\125\x4e\x44LE\x20\055-\x2d-\055\055\055\055\055\055\x2d-\055\055\055\055\x3cb\x72\x3e";echo $x70->getSelect() . '<br><br>';$xca($x7a);}$x7b = $x44->getTableName("\143\141\x74\x61\x6co\x67\137pr\157d\165\143\164_\157p\x74\x69\x6fn");$x7c = $x44->getTableName("c\141\164\141log_p\162\157\144u\143\164\137\x6f\160\164i\x6f\156\x5f\x74\x69\164\x6c\x65");$x7d = $x44->getTableName("\143\141t\x61\154\157g_p\x72\x6fdu\143t\x5f\157\160t\151o\156_\x74\171pe\x5f\x76\x61\154u\145");$x7e = $x44->getTableName("\143\x61\164\x61\154og\x5f\x70\x72o\144u\143\x74_\x6f\160\164i\157\156\137t\171\160\145\x5fti\x74\x6c\145");$x7f = $x44->getTableName("\143\141\x74\141l\157\147\x5f\x70\162\x6f\x64uc\164\x5f\x6f\x70t\151o\156\x5f\164y\x70\x65\137p\x72ice");$x80 = $x45->select();$x80->from(array("cpo" => $x7b), array("\x70\x72\x6f\144\x75c\x74_\151\x64"));$x80->joinleft(array("\143\x70ot" => $x7c), "\x63p\157t.o\x70t\x69\x6f\156_\151d\075c\160\157\x2e\x6f\160\x74\x69o\x6e\137\151d \x41\116D cp\157t\056s\x74\157\x72\x65\137id\0750", array("o\x70\164i\157\156" => "t\x69\x74l\x65", "o\x70\x74\151o\x6e\x5fi\144", "\163\x74\157\162e_i\x64"));$x80->joinleft(array("cp\157t\x76" => $x7d), "cp\x6f\x74\x76\056o\160t\x69\157\x6e_\151\x64 \x3d\x20\x63\160o\x2e\157\x70\164i\157\x6e\137\151\144", "\x73\x6bu");$x80->joinleft(array("\x63p\x6f\164t" => $x7e), "\143\160o\164\x74\056\157\x70t\x69\x6f\x6e_t\x79pe\137\x69\144\x3d\143\160\x6f\164\x76\056o\x70ti\x6f\156\x5f\164\x79\160\x65\x5f\x69\144 \101N\104\x20\143\x70\157t\164\x2est\x6f\162\145_\151\x64\x3d\143p\x6f\164.\163\164\x6f\x72\145\x5fid", "\164\x69tl\x65\x20\x41S \x76\141\154\x75\x65");$x80->joinleft(array("\x63po\x74\160" => $x7f), "c\160otp\x2e\x6f\x70\x74i\x6fn\137\x74\171\x70\x65\x5f\x69\144=\x63\x70o\x74\166.o\x70\x74\x69\157\x6e\137\164\x79\160e\137\x69d\x20AND\x20c\x70ot\x70\056sto\162\145_\151\144=\x63\x70ot\x2e\x73\x74\157\162e\x5fid", array("\x70\162\151c\x65", "\160\x72\x69ce\x5f\164\171p\145"));$x47 = $x80->order(array("\x70\x72o\x64\165\143\x74_\x69\144"));$x61 = $x45->fetchAll($x47);$x81 = array();$x82 = 0;foreach ($x61 as $x83) {$x81[$x83["\160\162o\144u\143\x74\137\x69d"]][$x83["o\160\164\151on"]]["v\141l\x75\x65\163"][] = array("v\141lue" => $x83["\x76\x61\x6c\x75e"],"s\153u" => $x83["s\153\x75"],"pri\x63\x65" => $x83["\x70r\151c\x65"],"p\x72ic\145\137\x74y\160\x65" => $x83["pr\x69c\x65\137\x74\x79\160\145"]);$x82++;}$this->customOptions = $x81;if ($this->_debug) {echo "\074\x62\162\076\x3c\x62\x72\x3e\x2d\055-\055\x2d\x2d\055\055\x2d-\x2d\x2d \x43\x55\x53\x54\117\115\x20\117P\124\x49\x4f\x4e\x53 \055\055\x2d--\055\x2d\055\x2d-\055\055\x2d\x2d--\x3cb\162\x3e";echo $x80 . '<br><br>';$xca($x81);}$x84 = 0;$x70 = Mage::getModel('catalog/product')->getCollection()->addStoreFilter($x25);$x70->addAttributeToFilter('status', 1);$x70->addAttributeToFilter('type_id', array("\x69\x6e" => $x37));$x70->addAttributeToFilter('visibility', array("\151n" => $x38));$x70->getSelect()->columns("\x43OU\x4e\x54\050\104\111\123\x54\x49\x4eC\x54\x20\145.\145n\x74i\x74\171\x5f\151\144)\x20A\163\040\164\x6f\164\x61\x6c")->group(array('status'));$x85 = $x70->getFirstItem()->getTotal();$x86 = $xcc($x85 / $this->_sqlSize) + 1;$x3a = '';while ($x84 < $x86) {$x70 = Mage::getModel('catalog/product')->getCollection()->addStoreFilter($x25);$x70->addAttributeToFilter('status', 1);$x70->addAttributeToFilter('type_id', array("\151\x6e" => $x37));$x70->addAttributeToFilter('visibility', array("\151\x6e" => $x38));$x70->addAttributeToSelect($x4d);$x87 = array("\145\x71" => "\x3d\040'%s'","\x6e\x65q" => "!\x3d\x20'%\163'","g\164\x65q" => "\076\075\x20'\x25\x73'","\154\x74e\x71" => "<\x3d '\x25s'","\x67\x74" => ">\040'%\x73'","\x6c\164" => "\074 '\x25s'","\x6c\x69k\x65" => "\x6cike\x20'%\163'","\156lik\145" => "no\x74 \x6c\151\153\x65\040'%\x73'","\156\x75\x6c\154" => "\x69\163\040\x6e\x75ll","\156\x6f\x74n\165l\154" => "\x69\163\x20\x6eot \156\x75\154\154","\151n" => "\151\x6e\x20\050%\163\051","\156i\156" => "\x6e\157t i\156(\x25\x73\x29",);$x88 = '';$x1e = 0;foreach ($x39 as $x4f) {if ($x4f->checked) {if ($x4f->condition == 'in' || $x4f->condition == 'nin') {if ($x4f->code == 'qty' || $x4f->code == 'is_in_stock') {$x89 = $xb9(',', $x4f->value);$x4f->value = "'" . $xbf($x89, "','") . "'";}else$x4f->value = $xb9(',', $x4f->value);}switch ($x4f->code) {case 'qty' :if ($x1e > 0)$x88.=' AND ';$x88.="\x20\x71\x74\x79\x20" . $xcf($x87[$x4f->condition], $x4f->value);$x1e++;break;case 'is_in_stock' :if ($x1e > 0)$x88.=' AND ';$x88.=" \x69s\x5fi\x6e\137\163t\157\x63k\x20" . $xcf($x87[$x4f->condition], $x4f->value);$x1e++;break;default :$x70->addFieldToFilter($x4f->code, array($x4f->condition => $x4f->value));break;}}};$x70->getSelect()->joinLeft($x69 . ' AS stock', 'stock.product_id=e.entity_id', array('qty' => 'qty', 'is_in_stock' => 'is_in_stock'));$x70->getSelect()->joinLeft($x6a . ' AS url', 'url.product_id=e.entity_id AND url.category_id IS NULL AND is_system=1 AND options<> "RP" AND url.store_id=' . $x25, array('request_path' => 'request_path'));$x70->getSelect()->joinLeft($x4a . ' AS categories', 'categories.product_id=e.entity_id');$x70->getSelect()->joinLeft($x6b . ' AS categories_index', 'categories_index.category_id=categories.category_id AND  categories_index.product_id=categories.product_id AND categories_index.store_id=' . $x25, array('categories_ids' => 'GROUP_CONCAT(categories_index.category_id)'));if (Mage::getVersion() >= 1.4)$x70->getSelect()->joinLeft($x6c . ' AS price_index', 'price_index.entity_id=e.entity_id AND customer_group_id=0 AND  price_index.website_id=' . Mage::getModel('core/store')->load($x25)->getWebsiteId(), array('min_price' => 'min_price', 'max_price' => 'max_price', 'tier_price' => 'tier_price', 'final_price' => 'final_price'));if (!empty($x88))$x70->getSelect()->where($x88);$x70->getSelect()->group(array('e.entity_id'));if ($this->_debug) {echo "\x3c\142\x72\x3e\074\142\x72>\055-\055-\055\x2d-\x2d\055\055\055-\x20\x53\x51\x4c\040\x2d-\055---\x2d\055\055\x2d\055\x2d--\055\055\074\142\x72\x3e";print($x70->getSelect());}$x70->getSelect()->limit($this->_sqlSize, ($this->_sqlSize * $x84));$x84++;$x82 = 1;foreach ($x70 as $x22) {if ($this->_debug) {echo "\074\x62r\x3e<b\x72>\055\055--\055\x2d-\055\x2d\055\055\055\040\120\122O\x44U\x43T \x5b\040\123\x4b\125\040\055\076\x20" . $x22->getSku() . "\040\x7c\x20I\x44\040\x2d\076\x20" . $x22->getId() . "\135-\055\055\x2d\055-\x2d\x2d-\x2d\055---\055\074b\x72\076";echo "c\x61te\x67\157\x72\151\x65s :\040" . $x22->getCategoriesIds() . ",\040R\157\x6ft\040i\x64\x3a\040" . $x2d . "\x3c\142\162\x3e";foreach ($xb9(',', $x22->getCategoriesIds()) as $x1b => $x43) {echo $x43 . "=\x3e" . $x42[$x43]["\160\x61th"] . "\074\x62\162>";}}if (!$xc0('safe_mode')) {$xce(60);}$x17 = $x30;foreach ($x3c as $x1b => $x8a) {$x1c = "";switch ($x8a['pattern']) {case '{load_options}': $x61 = 1;$x8b = array();foreach ($x8a['options'] as $x1b => $x8c) {if (isset($x81[$x22->getId()][$x8c])) {$x61 = $x61 * $xb6($x81[$x22->getId()][$x8c]["v\141\154\x75\145\163"]);$x8b[$x1b] = 0;}}$x59 = array();for ($x5b = 1; $x5b <= $x61; $x5b++) {foreach ($x8a['options'] as $x1b => $x8c) {if (isset($x81[$x22->getId()][$x8c])) {$x59[$x5b][$x8c] = $x81[$x22->getId()][$x8c]["v\x61l\165es"][$x8b[$x1b]]['value'];if ($x1b > 0 || $xb6($x81[$x22->getId()]) == 1)$x8b[$x1b]++;if ($x8b[$x1b] >= $xb6($x81[$x22->getId()][$x8c]["\x76a\154u\x65\x73"])) {$x8b[$x1b] = 0;$x8b[$x1b - 1]++;}}}}$x19 = array();for ($x5b = 1; $x5b <= $x61; $x5b++) {$x8d = $x17;foreach ($x8a['options'] as $x1b => $x8c) {if (isset($x81[$x22->getId()][$x8c])) {$x8d = $xd0("\x7b" . $x8c . "\137o\160\164\151o\156\175", $x59[$x5b][$x8c], $x8d);}}$x19[] = $x8d;}if ($xb6($x19) > 0)$x17 = $xbf("<\x2fi\164\145m>\r\n\074\x69t\x65\155\x3e", $x19);break;case '{inc}' :$x1c = $x82;break;case '{final_price}' :$x8e = $this->checkReference($x8a['reference'], $x22);$x0d = $x8e->getFinalePrice();(!isset($x8a['options'][1])) ? $x12 = false : $x12 = $x8a['options'][1];$x1c = $this->applyTax($x0d, $x2c, $x8e->getTaxClassId(), $x12);(!isset($x8a['options'][0])) ? $x0e = $x29 : $x0e = $x8a['options'][0];$x1c = $this->applyCurrencyRate($x1c, $x0e);$x1c = $xc6($x1c, 2, '.', '');break;case '{tier_price}' :$x8e = $this->checkReference($x8a['reference'], $x22);$x0d = $x8e->getTierPrice();(!isset($x8a['options'][1])) ? $x12 = false : $x12 = $x8a['options'][1];$x1c = $this->applyTax($x0d, $x2c, $x8e->getTaxClassId(), $x12);(!isset($x8a['options'][0])) ? $x0e = $x29 : $x0e = $x8a['options'][0];$x1c = $this->applyCurrencyRate($x1c, $x0e);$x1c = $xc6($x1c, 2, '.', '');break;case '{min_price}' :$x8e = $this->checkReference($x8a['reference'], $x22);$x0d = $x8e->getMinPrice();(!isset($x8a['options'][1])) ? $x12 = false : $x12 = $x8a['options'][1];$x1c = $this->applyTax($x0d, $x2c, $x8e->getTaxClassId(), $x12);(!isset($x8a['options'][0])) ? $x0e = $x29 : $x0e = $x8a['options'][0];$x1c = $this->applyCurrencyRate($x1c, $x0e);$x1c = $xc6($x1c, 2, '.', '');break;case '{max_price}' :$x8e = $this->checkReference($x8a['reference'], $x22);$x0d = $x8e->getMaxPrice();(!isset($x8a['options'][1])) ? $x12 = false : $x12 = $x8a['options'][1];$x1c = $this->applyTax($x0d, $x2c, $x8e->getTaxClassId(), $x12);(!isset($x8a['options'][0])) ? $x0e = $x29 : $x0e = $x8a['options'][0];$x1c = $this->applyCurrencyRate($x1c, $x0e);$x1c = $xc6($x1c, 2, '.', '');break;case '{normal_price}' :$x8e = $this->checkReference($x8a['reference'], $x22);if ($x8e->type_id == 'bundle')$x0d = $x8e->price;else {$x0d = $x8e->getPrice();}(!isset($x8a['options'][1])) ? $x12 = false : $x12 = $x8a['options'][1];$x1c = $this->applyTax($x0d, $x2c, $x8e->getTaxClassId(), $x12);(!isset($x8a['options'][0])) ? $x0e = $x29 : $x0e = $x8a['options'][0];$x1c = $this->applyCurrencyRate($x1c, $x0e);$x1c = $xc6($x1c, 2, '.', '');break;case '{price}' :$x8e = $this->checkReference($x8a['reference'], $x22);if ($x8e->getSpecialFromDate() && !$x8e->getSpecialToDate()) {if ($x8e->getSpecialFromDate() <= $xb7("Y\055\x6d-d H\x3ai\x3a\x73")) {if ($x8e->type_id == "\142\x75\156\x64\x6c\x65") {if (($x8e->price_type || (!$x8e->price_type && $x8e->special_price < $x8e->price)) && $x8e->special_price > 0) {if ($x8e->price_type)$x0d = $xc6($x8e->price * $x8e->special_price / 100, 2, "\x2e", "");else$x0d = $x8e->special_price;}else {$x0d = $x8e->price;}}else($x8e->getSpecial_price() && $x8e->getSpecial_price() < $x8e->getPrice()) ? $x0d = $x8e->getSpecialPrice() : $x0d = $x8e->getPrice();}else {if ($x8e->type_id == "\x62u\x6e\144\154\x65")$x0d = $x8e->price;else {$x0d = $x8e->getPrice();}}} elseif ($x8e->getSpecialFromDate() && $x8e->getSpecialToDate()) {if ($x8e->getSpecialFromDate() <= $xb7("\x59\x2d\155\x2dd \x48:\x69\x3a\163") && $xb7("\x59\x2d\x6d-\x64\x20\x48\x3a\x69\x3a\163") < $x8e->getSpecialToDate()) {if ($x8e->type_id == "\142\165\x6ed\x6ce") {if (($x8e->price_type || (!$x8e->price_type && $x8e->special_price < $x8e->price)) && $x8e->special_price > 0) {if ($x8e->price_type)$x0d = $xc6($x8e->price * $x8e->special_price / 100, 2, "\056", "");else {$x0d = $x8e->special_price;}} else {$x0d = $x8e->price;}} else {($x8e->getSpecial_price() && $x8e->getSpecial_price() < $x8e->getPrice()) ? $x0d = $x8e->getSpecialPrice() : $x0d = $x8e->getPrice();}} else {if ($x8e->type_id == "b\165\x6edle") {$x0d = $x8e->price;} else {$x0d = $x8e->getPrice();}}} else {if ($x8e->type_id == "\x62\165\156\144l\x65") {if (($x8e->price_type || (!$x8e->price_type && $x8e->special_price < $x8e->price)) && $x8e->special_price > 0) {if ($x8e->price_type) {$x0d = $xc6($x8e->price * $x8e->special_price / 100, 2, "\056", "");} else {$x0d = $x8e->special_price;}} else {$x0d = $x8e->price;}} else {($x8e->getSpecial_price() && $x8e->getSpecial_price() < $x8e->getPrice()) ? $x0d = $x8e->getSpecialPrice() : $x0d = $x8e->getPrice();}}(!isset($x8a['options'][1])) ? $x12 = false : $x12 = $x8a['options'][1];$x1c = $this->applyTax($x0d, $x2c, $x8e->getTaxClassId(), $x12);(!isset($x8a["\157\x70t\x69\157ns"][0])) ? $x0e = $x29 : $x0e = $x8a["\x6f\160tion\x73"][0];$x1c = $this->applyCurrencyRate($x1c, $x0e);$x1c = $xc6($x1c, 2, ".", "");;break;case "\x7bis\x5f\163\160\x65\x63\151\x61\154\137\160ri\143\145\x7d" :$x8e = $this->checkReference($x8a['reference'], $x22);(!isset($x8a["\x6f\x70\164\151o\x6es"][0])) ? $x8f = 1 : $x8f = $x8a["o\160t\151\x6f\x6e\163"][0];(!isset($x8a["o\160t\x69\157\x6e\x73"][1])) ? $x90 = 0 : $x90 = $x8a["\x6f\x70tion\x73"][1];if ($x8e->getSpecialFromDate() && !$x8e->getSpecialToDate()) {if ($x8e->getSpecialFromDate() <= $xb7("\x59\x2dm\x2d\x64 \110\072i:s")) {if ($x8e->type_id == "\142\x75n\144\x6c\145")(($x8e->price_type || (!$x8e->price_type && $x8e->special_price < $x8e->price)) && $x8e->special_price > 0 ) ? $x1c = $x8f : $x1c = $x90;else {($x8e->getSpecial_price() && $x8e->getSpecial_price() < $x8e->getPrice()) ? $x1c = $x8f : $x1c = $x90;}} else {if ($x8e->type_id == "\x62\x75nd\154e") {$x1c = $x90;} else {$x1c = $x90;}}} elseif ($x8e->getSpecialFromDate() && $x8e->getSpecialToDate()) {if ($x8e->getSpecialFromDate() <= $xb7("Y-m-d\x20H\072\151\x3as") && $xb7("\x59\x2dm\x2d\x64 \110\072\151:\x73") < $x8e->getSpecialToDate()) {if ($x8e->type_id == "bun\144\x6c\145") {(($x8e->price_type || (!$x8e->price_type && $x8e->special_price < $x8e->price)) && $x8e->special_price > 0 ) ? $x1c = $x8f : $x1c = $x90;} else {($x8e->getSpecial_price() && $x8e->getSpecial_price() < $x8e->getPrice()) ? $x1c = $x8f : $x1c = $x90;}} else {if ($x8e->type_id == "b\x75\156\144\154\145") {$x1c = $x90;} else {$x1c = $x90;}}} else {if ($x8e->type_id == "b\x75n\144\x6ce") {(($x8e->price_type || (!$x8e->price_type && $x8e->special_price < $x8e->price)) && $x8e->special_price > 0 ) ? $x1c = $x8f : $x1c = $x90;} else {($x8e->getSpecial_price() && $x8e->getSpecial_price() < $x8e->getPrice()) ? $x1c = $x8f : $x1c = $x90;}}break;case "\x7b\x73\x70\x65\143\151\141\x6c\137\x70\x72\x69c\x65\x7d" :$x8e = $this->checkReference($x8a['reference'], $x22);$x0d = null;if ($x8e->getSpecialFromDate() && !$x8e->getSpecialToDate()) {if ($x8e->getSpecialFromDate() <= $xb7("\x59\055m-\x64\x20\x48\x3ai\072\x73")) {if ($x8e->type_id == 'bundle') {if ($x8e->price_type)$x0d = $xc6($x8e->price * $x8e->special_price / 100, 2, ".", "");else {$x0d = $x8e->special_price;}} else {$x0d = $x8e->getSpecial_price();}}} elseif ($x8e->getSpecialFromDate() && $x8e->getSpecialToDate()) {if ($x8e->getSpecialFromDate() <= $xb7("\x59\055\155\055\144\x20H\072\x69:\x73") && $xb7("\131\x2dm-d\x20\110\x3a\151\072\x73") < $x8e->getSpecialToDate()) {if ($x8e->type_id == 'bundle') {if ($x8e->price_type)$x0d = $xc6($x8e->price * $x8e->special_price / 100, 2, "\056", "");else {$x0d = $x8e->special_price;}} else {$x0d = $x8e->getSpecial_price();}}} else {if ($x8e->type_id == 'bundle') {if ($x8e->price_type)$x0d = $xc6($x8e->price * $x8e->special_price / 100, 2, "\x2e", "");else {$x0d = $x8e->special_price;}} else {$x0d = $x8e->getSpecial_price();}}(!isset($x8a['options'][1])) ? $x12 = false : $x12 = $x8a['options'][1];if ($x0d > 0) {$x1c = $this->applyTax($x0d, $x2c, $x8e->getTaxClassId(), $x12);(!isset($x8a['options'][0])) ? $x0e = $x29 : $x0e = $x8a['options'][0];$x1c = $this->applyCurrencyRate($x1c, $x0e);$x1c = $xc6($x1c, 2, '.', '');;} else {$x1c = "";}break;case "\173G\072\123AL\105\x5f\x50\122\x49\103\105\x7d" :$x8e = $this->checkReference($x8a['reference'], $x22);$x91 = $xd0(' ', 'T', $x8e->getSpecialFromDate());$x92 = $xd0(' ', 'T', $x8e->getSpecialToDate());if ($x8e->type_id == 'bundle' && $x8e->special_price) {if ($x8e->price_type) {$x0d = $xc6($x8e->price * $x8e->special_price / 100, 2, ".", "");} else {$x0d = $x8e->special_price;}} else {$x0d = $x8e->getSpecial_price();}(!isset($x8a['options'][1])) ? $x12 = false : $x12 = $x8a['options'][1];if ($x0d > 0) {$x0d = $this->applyTax($x0d, $x2c, $x8e->getTaxClassId(), $x12);(!isset($x8a['options'][0])) ? $x0e = $x29 : $x0e = $x8a['options'][0];$x0d = $this->applyCurrencyRate($x0d, $x0e);$x0d = $xc6($x0d, 2, '.', '');;}if ($x0d > 0) {$x1c = "\074\147\x3a\x73\x61\x6ce\x5fp\162\x69c\145\x3e\x3c\x21[\x43\104ATA\x5b" . $x0d . "\135]\x3e</\147\072s\141l\x65\x5fp\162i\x63e\x3e\n";}if ($x0d > 0 && $x92) {$x1c.="\074\x67\072\163\141l\x65\137\x70\x72i\x63e\x5fe\x66\x66e\143\164\x69\166e_\144at\145><\041\x5bC\x44\101T\101\x5b" . $x91 . "\x5a\x2f" . $x92 . "\132\x5d\x5d\076\x3c/g\072\x73a\x6ce_p\162i\143\x65_e\x66fe\143\x74\151\x76\x65\x5f\144at\x65\076";}break;case "\173\x69\x6da\x67\x65\x7d" :$x8e = $this->checkReference($x8a['reference'], $x22);$x93 = $x8e->getImage();if (!isset($x8a['options'][0]) || $x8a['options'][0] == 0) {if ($x8e->getImage() && $x8e->getImage() != 'no_selection') {$x94 = 'catalog/product/' . $x8e->getImage();$x1c = $x2b . $xd0('//', '/', $x94);} else {$x1c = $x2b . '/catalog/product/placeholder/' . $x28;}} elseif (isset($x68[$x8e->getId()]['src'][$x8a['options'][0] - 1]) && $x8a['options'][0] > 0) {if ($x68[$x8e->getId()]['src'][$x8a['options'][0] - 1] != $x93) {$x94 = 'catalog/product/' . $x68[$x8e->getId()]['src'][$x8a['options'][0] - 1];$x1c = $x2b . $xd0('//', '/', $x94);}}break;case "\173G\x3a\111\115\x41GE_L\111\x4e\x4b}" :$x8e = $this->checkReference($x8a['reference'], $x22);$x93 = $x8e->getImage();$x95 = array($x8e->getSmall_image(), $x8e->getThumbnail());$x96 = '';$x8b = 0;if ($x8e->getImage() && $x8e->getImage() != 'no_selection') {$x94 = 'catalog/product/' . $x8e->getImage();$x1c = $x2b . $xd0('//', '/', $x94);$x96.="\074g\x3a\151\x6da\x67\145_lin\x6b>\074!\x5bC\104A\x54\x41\x5b" . $x1c . "]\135></\x67\072\x69m\141g\145\137\154i\x6e\153>\n";$x8b++;}$x97 = 0;while (isset($x68[$x8e->getId()]['src'][$x97]) && $x8b < 10) {if ($x68[$x8e->getId()]['src'][$x97] != $x93) {if ($xbe($x68[$x8e->getId()]['src'][$x97], $x95) || $x68[$x8e->getId()]['disabled'][$x97] != 1) {$x94 = 'catalog/product/' . $x68[$x8e->getId()]['src'][$x97];$x1c = $x2b . $xd0('//', '/', $x94);$x96.="\x3cg\x3a\141\144\144\151\164i\x6f\156\x61\x6c_\x69m\141g\145_\154\x69\156k\076\074\x21\133C\104A\x54A\133" . $x1c . "]\x5d\x3e\074\057\x67\072a\144\x64\151\164\151\x6fna\154\137ima\147\145_\154in\x6b\076\n";$x8b++;}}$x97++;}$x1c = $x96;break;case "{\x75\162\x6c\175" :(isset($x8a['options'][0])) ? (($x8a['options'][0] == 'false') ? $x98 = '' : $x98 = $x8a['options'][0]) : $x98 = ".\x68\x74m\154";(isset($x8a['options'][1])) ? $x99 = $x8a['options'][1] : $x99 = "";$x8e = $this->checkReference($x8a['reference'], $x22);if ($x8e->getUrlKey()) {$x1c = $x2a . $x99 . '' . $x8e->getUrlKey() . $x98;} else {$x1c = $x8e->getProductUrl();}break;case "\173ho\163\164\175" :$x1c = $x2a;break;case "{ur\151}" :(isset($x8a['options'][0])) ? (($x8a['options'][0] == 'false') ? $x98 = '' : $x98 = $x8a['options'][0]) : $x98 = "\x2e\150t\155\x6c";(isset($x8a['options'][1])) ? $x99 = $x8a['options'][1] : $x99 = "";$x8e = $this->checkReference($x8a['reference'], $x22);if ($x8e->getUrlKey()) {$x1c = $x99 . '' . $x8e->getUrlKey() . $x98;} else {$x1c = $xd0($x2a, '', $x8e->getProductUrl());}break;case '{is_in_stock}' :$x8e = $this->checkReference($x8a['reference'], $x22);(!isset($x8a['options'][0])) ? $x8f = 1 : $x8f = $x8a['options'][0];(!isset($x8a['options'][1])) ? $x90 = 0 : $x90 = $x8a['options'][1];($x8e->getIs_in_stock() > 0) ? $x1c = $x8f : $x1c = $x90;break;case '{stock_status}' :$x8e = $this->checkReference($x8a['reference'], $x22);($x8e->getIs_in_stock() > 0) ? $x1c = 'in stock' : $x1c = 'out of stock';break;case '{qty}' :$x8e = $this->checkReference($x8a['reference'], $x22);(!isset($x8a['options'][0])) ? $x9a = 0 : $x9a = $x8a['options'][0];if ($x22->type_id == "c\157n\146\x69\147\165\x72\141\142\x6c\x65") {$x1c = $x75[$x22->getId()];$x1c = $xc6($x1c, $x9a, '.', '');} else if ($x8a['reference'] == "\x63\157n\146\151\147u\162a\x62\x6c\145") {$x1c = $xc6($x75[$x8e->getId()], $x9a, '.', '');} else {$x1c = $xc6($x8e->getQty(), $x9a, '.', '');}break;case "\x7b\143\141\164\x65\147o\162\x69e\163\x7d" :$x8e = $this->checkReference($x8a['reference'], $x22);(!isset($x8a['options'][0]) || !$x8a['options'][0] || $x8a['options'][0] == 'INF') ? $x9b = INF : $x9b = $x8a['options'][0];(!isset($x8a['options'][1])) ? $x9c = 1 : $x9c = $x8a['options'][1];(!isset($x8a['options'][2]) || !$x8a['options'][2] || $x8a['options'][2] == 'INF') ? $x9d = INF : $x9d = $x8a['options'][2];$x9e = 0;$x1c = '';$x9f = '';foreach ($xb9(',', $x8e->getCategoriesIds()) as $x1b => $x43) {if (isset($x42[$x43]) && $x9e < $x9b && ($xbe($x42[$x43]["pa\x74h"], $x34) || $x34[0] == "*")) {$xa0 = 0;$xa1 = $xb9('/', $x42[$x43]["\x70\141\164h"]);if ($xbe($x2d, $xa1)) {$xa2 = "";if ($x9e > 0) {$x9f = ",";}foreach ($xa1 as $xa3) {if (isset($x42[$xa3])) {if ($x42[$xa3]['level'] > $x9c && $xa0 < $x9d) {if ($xa0 > 0) {$xa2.=' > ';}$xa2.=($x42[$xa3]['name']);$xa0++;}}}$xa4 = "";if (!empty($xa2)) {$x1c.=$x9f . $xa2 . $xa4;$x9e++;}}}};break;case "\173G\072P\122O\x44\x55\x43T\x5fTYP\x45\175" :$x8e = $this->checkReference($x8a['reference'], $x22);(!isset($x8a['options'][0]) || !$x8a['options'][0] || $x8a['options'][0] == 'INF') ? $x9b = INF : $x9b = $x8a['options'][0];(!isset($x8a['options'][1])) ? $x9c = 1 : $x9c = $x8a['options'][1];(!isset($x8a['options'][2]) || !$x8a['options'][2] || $x8a['options'][2] == 'INF') ? $x9d = INF : $x9d = $x8a['options'][2];$x9e = 0;$x1c = '';foreach ($xb9(',', $x8e->getCategoriesIds()) as $x1b => $x43) {if (isset($x42[$x43]) && $x9e < $x9b && ($xbe($x42[$x43]["pa\164\150"], $x34) || $x34[0] == "\x2a")) {$xa0 = 0;$xa1 = $xb9('/', $x42[$x43]["\x70\x61\x74\x68"]);if ($xbe($x2d, $xa1)) {$xa2 = '';$x9f = '<g:product_type><![CDATA[';foreach ($xa1 as $xa3) {if (isset($x42[$xa3])) {if ($x42[$xa3]['level'] > $x9c && $xa0 < $x9d) {if ($xa0 > 0) {$xa2.=' > ';}$xa2.=($x42[$xa3]['name']);$xa0++;}}}$xa4 = "\135\x5d>\074\x2fg\072p\x72oduc\x74\x5fty\x70\x65>\n";if (!empty($xa2)) {$x1c.=$x9f . $xa2 . $xa4;$x9e++;}}}};break;case "{\x47\x3a\107O\x4fG\x4c\105\137\x50R\117D\125\103T\137C\x41\x54E\x47\x4fRY\x7d" :(isset($x8a["o\160\x74\x69o\x6e\x73"][0])) ? $xa5 = $x8a["\x6f\160t\x69\x6f\156\163"][0] : $xa5 = 0;$x1c = "";$xa6 = 0;$x8e = $this->checkReference($x8a['reference'], $x22);foreach ($xb9(',', $x8e->getCategoriesIds()) as $x1b => $x43) {if (isset($x42[$x43]["\160\x61t\150"]) && isset($x35[$x42[$x43]["\160\141\164\x68"]])) {if ($xa6 == $xa5) {$x1c.="<\x67\x3a\147\x6fo\x67\154\x65\137\160\x72\x6fdu\x63\164\137c\141\164\145\147o\x72\171>\x3c\041\133C\104\x41\x54\x41[" . $x35[$x42[$x43]["\160ath"]] . "]\x5d\076\074/\x67\072g\x6fo\147\154e_\160r\x6f\144\165c\x74_\143a\x74\x65\x67\x6f\162y\x3e\n";break;}$xa6++;}}break;case "\x7b\x63\141\164\145\x67o\x72\x79\137m\141\160\x70i\156\x67}" :(isset($x8a["\157pt\151ons"][0])) ? $xa5 = $x8a["\157\160t\x69on\x73"][0] : $xa5 = 0;$x1c = "";$x8e = $this->checkReference($x8a['reference'], $x22);$xa6 = 0;foreach ($xb9(',', $x8e->getCategoriesIds()) as $x1b => $x43) {if (isset($x35[$x42[$x43]["\x70\141th"]])) {if ($xa6 == $xa5) {$x1c.=$x35[$x42[$x43]["p\141\164\x68"]];break;}$xa6++;}}break;case "{\162e\166\x69\145\167_\x63o\x75\x6e\164}":$x8e = $this->checkReference($x8a['reference'], $x22);$x1c = "";(isset($x8a["\157\160\164\151\157\x6e\x73"][0]) && $x8a["\x6fp\x74\151\157\156\x73"][0] == "*" ) ? $xa7 = 0 : $xa7 = $x25;if (isset($x62[$x8e->getId()][$xa7]["\143\x6fu\x6e\x74"])) {$xa8 = $x62[$x8e->getId()][$xa7]["\x63\157u\156\x74"];if (isset($xa8)) {$x1c.=$xa8;}}break;case "{\162\145\x76\x69\x65w\x5f\x61\x76\x65\x72\x61\147\145\175":$x8e = $this->checkReference($x8a['reference'], $x22);$x1c = "";(isset($x8a["\157\x70\x74\x69\x6f\156\x73"][0]) && $x8a["opt\x69\157\156s"][0] == "\x2a" ) ? $xa7 = 0 : $xa7 = $x25;(!isset($x8a["\157\x70ti\x6fn\x73"][1]) || !$x8a["\x6fpt\151\157n\x73"][1]) ? $xa9 = 5 : $xa9 = $x8a["\x6f\160\164\151\x6f\156s"][1];if (isset($x62[$x8e->getId()][$xa7]["\163\x63\x6fre"])) {$xaa = $xc6($x62[$x8e->getId()][$xa7]["sco\x72\145"] * $xa9 / 100, 2, ".", "");if (isset($xaa)) {$x1c.=$xaa;}}break;case "{G\x3aPR\x4f\104\x55\103\124\x5f\x52\x45VI\105W}" :$x8e = $this->checkReference($x8a['reference'], $x22);(isset($x8a["o\x70\x74i\x6f\x6es"][0]) && $x8a["o\x70t\151\157\x6es"][0] == "\052" ) ? $xa7 = 0 : $xa7 = $x25;(!isset($x8a["\157\160\x74\x69\157\x6es"][1]) || !$x8a["opt\151\x6fn\x73"][1]) ? $xa9 = 5 : $xa9 = $x8a["o\x70\x74i\157\x6es"][1];$x1c = "";if (isset($x62[$x8e->getId()][$xa7]["\x63ou\156\164"])) {$xa8 = $x62[$x8e->getId()][$xa7]["\x63o\165nt"];$xaa = $xc6($x62[$x8e->getId()][$xa7]["\163cor\145"] * $xa9 / 100, 2, ".", "");}if (isset($xaa) && $xaa > 0) {$x1c.="<\x67\x3a\x70r\x6fdu\143\164\x5f\x72\x65\166\x69\145\167\137\x61ve\162\x61\x67\x65\x3e<\x21\133\x43\x44\x41T\x41\x5b" . $xaa . "]\135\x3e\074/g\072\x70\x72o\144\x75ct\x5fr\145\x76\151\145w\137\141v\145\162\x61g\x65\076\n";}if (isset($xa8) && $xa8 > 0) {$x1c.="\x3cg\x3a\x70rodu\143\x74\x5f\x72\145\166\151e\167_\x63\157\x75n\x74\076\x3c\041\x5b\x43\x44A\x54A\133" . $xa8 . "]]\x3e\x3c/\147:\160\x72\x6f\144\x75\x63\164\x5f\x72\145\x76i\x65\167\137\x63\157\165\x6et\076\n";}unset($xaa);unset($xa8);break;case "{G:I\x54E\115_G\x52\x4f\125\x50\137\x49\104\175" :if (isset($this->configurable[$x22->getId()])) {$x8e = $this->checkReference('configurable', $x22);$x1c = "\x3c\147\x3a\151\164e\155\137gr\157\165p\x5f\x69\x64>\074\041\x5b\103\x44\101\x54\101\x5b" . $x8e->getSku() . "]\135\x3e\x3c\x2f\147\072i\x74e\155\x5f\x67ro\x75p\137i\x64\076";}break;case "{\123\x43\x3aE\x41N}" :($xc3($x8a['options'][0]) && $x8a['options'][0] > 0) ? $xab = $x8a['options'][0] : $xab = 0;$x8e = $this->checkReference($x8a['reference'], $x22);$x1c = $xb9(',', $x8e->getEan());$x1c = "\074\x67\072\145a\x6e\x3e\x3c\041[\103\104\101\124\101[" . $x1c[$xab] . "\x5d\135\076<\057\147\x3ae\x61n>";break;case "\x7b\x53\x43:\x49M\101G\x45S\x7d" :$x8e = $this->checkReference($x8a['reference'], $x22);$x93 = $x8e->getSmall_image();$x95 = array($x8e->getImage(), $x8e->getThumbnail());$x96 = '';$x8b = 0;if ($x8e->getSmall_image() && $x8e->getSmall_image() != 'no_selection') {$x94 = $x8e->getSmall_image();$x1c = $x94;$x96.="\x3cg\072\x69\155a\x67\145\x5fl\x69\156k\x3e\074\x21\133\x43\x44\101\124\101[" . $x1c . "\x5d\135\x3e\x3c/g\x3a\151\155\x61\x67\145_\x6c\151n\153\x3e\n";$x8b++;}$x97 = 0;while (isset($x68[$x8e->getId()]['src'][$x97]) && $x8b < 10) {if ($x68[$x8e->getId()]['src'][$x97] != $x93) {if ($xbe($x68[$x8e->getId()]['src'][$x97], $x95) || $x68[$x8e->getId()]['disabled'][$x97] != 1) {$x94 = $x68[$x8e->getId()]['src'][$x97];$x1c = $x94;$x96.="\x3cg\072add\151ti\x6f\x6e\x61l_\x69m\141\x67e\x5fli\156\153\x3e\x3c\x21\133\103D\101\124A[" . $x1c . "\x5d\x5d\076\074\x2fg\x3a\141\144\x64\x69\164\x69\157\x6e\141\x6c_\151m\141g\145_l\151\x6e\153\076\n";$x8b++;}}$x97++;}$x1c = $x96;break;case "\x7b\123C\x3a\104E\123CR\x49\120\x54I\x4fN\x7d" :$x8e = $this->checkReference($x8a['reference'], $x22);$xac = $x8e->getDescription() . $x8e->getShortDescription();$xad = "\x7c\074\151fr\x61\155\145\x28\x2e\x2a\051<\x2fi\x66ra\x6d\145\x3e\x7c\125";$xc7($xad, $xac, $xae);if ($xae) {$xac = $x8e->getAttributeText('manufacturer') . "\040" . $x8e->getName() . "\040\055 P\x61\162t\x20\x6e\165m\142\145\162\x3a\x20" . $x8e->getSku() . " - C\141\164e\147o\x72\x79 \x3a\040{\x63\141\164\145\147\157r\x69\145\x73\x2c[1\x5d\x2c\x5b\061\x5d\x2c[\x31\135}";} else {if ($xbe("\x73t\162ip_t\141\x67s", $x8a['options'])) {$xac = $xcb('!\<br /\>!isU', "\040", $xac);$xac = $xcb('!\<br/\>!isU', "\x20", $xac);$xac = $xcb('!\<br>!isU', "\x20", $xac);$xac = $xd2($xac);}if ($xbe("h\x74\155l_\145\x6e\x74ity_\x64e\143\x6fd\145", $x8a['options'])) {$xac = $xbb($xac, ENT_QUOTES, 'UTF-8');}if ($xbe("\150\164\x6d\x6ce\x6e\164i\164\151e\x73", $x8a['options'])) {$xac = $xbc(($xac));}if ($xd1($xac) > 900) {$xac = $xd3($xac, 0, 900 - 3);$xaf = $xd4($xac, "\x20");$xac = $xd3($xac, 0, $xaf) . '...';}}$x1c = "\x3c\144e\x73\x63\162\151p\164i\x6f\156\x3e\x3c\041\x5b\x43\104\101\124\101\x5b" . $xac . "]]>\074\057\144\145s\x63\162\x69p\164\151o\156\x3e";break;case "\x7bS\x43:\x55\122\x4c}" :(isset($x8a['options'][0])) ? $x98 = $x8a['options'][0] : $x98 = "\x2e\150\x74m\154";(isset($x8a['options'][1])) ? $x99 = $x8a['options'][1] : $x99 = "";$x8e = $this->checkReference($x8a['reference'], $x22);if ($x8e->getUrlKey()) {$x1c = "\x3c\x6c\x69\156\x6b\x3e\074\041[\x43\x44\x41T\x41\x5b" . $x2a . $x99 . $x8e->getUrlKey() . $x98 . "\x5d\135\076\x3c\057li\156\x6b>";} else {$x1c = "\074l\151nk\x3e\x3c!\x5bC\104\101\124A[" . $x8e->getProductUrl() . "\135\x5d>\x3c\057\x6ci\156k>";}break;default :$x8e = $this->checkReference($x8a['reference'], $x22);if ($xbe($x8a['name'], $x4d)) {if ($xbe($x4e[$x8a['name']], array('select', 'multiselect'))) {eval('$xb0 =($x8e->' . $x8a['methodName'] . ")\073");$xb1 = $xb9(',', $xb0);if ($xb6($xb1) > 1) {$x1c = array();foreach ($xb1 as $xb2) {if (isset($x53[$xb2][$x25]))$x1c[] = $x53[$xb2][$x25];else {if (isset($x53[$xb2][0]))$x1c[] = $x53[$xb2][0];}}}else {if (isset($x53[$xb1[0]][$x25])) {$x1c = $x53[$xb1[0]][$x25];} else {if (isset($x53[$xb1[0]][0]))$x1c = $x53[$xb1[0]][0];}}} else {eval('$x1c =($x8e->' . $x8a['methodName'] . "\051\073");}}if ($xbe(@$x4b[$x8a['name']], $x4b)) {$x1c = $x4b[$x8a['name']];}$xb3 = 0;if ($xb6($x8a['options']) > 0) {while (isset($x8a['options'][$xb3])) {switch ($x8a['options'][$xb3]) {case "\x73\165\x62s\x74r" :if (isset($x8a['options'][$xb3 + 1]) && $xd1($x1c) > $x8a['options'][$xb3 + 1]) {$x1c = $xd3($x1c, 0, $x8a['options'][$xb3 + 1] - 3);$xaf = $xd4($x1c, "\x20");$x1c = $xd3($x1c, 0, $xaf) . $x8a['options'][$xb3 + 2];}$xb3++;$xb3++;break;case "\x68\164ml\x65\x6e\164\x69\164\x69e\x73" :$x1c = $xbc(($x1c));break;case "\163\x74\x72\x69\160\x5f\x74\141\x67\163" :$xb4 = "\x20";$x1c = $xcb('!\<br /\>!isU', $xb4, $x1c);$x1c = $xcb('!\<br/\>!isU', $xb4, $x1c);$x1c = $xcb('!\<br>!isU', $xb4, $x1c);$x1c = $xd2($x1c);break;case "i\155\x70\x6co\x64\145" :$x1c = ($xc1($x1c)) ? $xbf($x8a['options'][$xb3 + 1], $x1c) : $x1c;$xb3++;break;case "\146\x6c\157a\x74" :$x1c = $xc6($x1c, $x8a['options'][$xb3 + 1], '.', '');$xb3++;break;case "\x68t\155\154\137e\156t\151\164\171\x5f\144\x65\143\x6fd\145" :$x1c = $xbb($x1c, ENT_QUOTES, 'UTF-8');break;case "\151\156\154\151n\145":$x1c = $xcb('/(\r\n|\n|\r|\r\n)/s', '', $x1c);break;case "\163t\162t\157\x6c\x6f\x77er":$x1c = $xc4($x1c, "\x55TF8");break;case "\x73tr\x74\157u\x70\160\145\162":$x1c = $xc5($x1c, "\125\124F8");break;case "\143l\x65\141\156e\162":$x1c = $xcb('/' .'[\x00-\x1F\x7F]' .'|[\x00-\x7F][\x80-\xBF]+' .'|([\xC0\xC1]|[\xF0-\xFF])[\x80-\xBF]*' .'|[\xC2-\xDF]((?![\x80-\xBF])|[\x80-\xBF]{2,})' .'|[\xE0-\xEF](([\x80-\xBF](?![\x80-\xBF]))|' .'(?![\x80-\xBF]{2})|[\x80-\xBF]{3,})' .'/S', ' ', $x1c);$x1c = $xd0('&#153;', '', $x1c);break;default :eval('$x1c=' . $x8a['options'][$xb3] . '($x1c);');break;}$xb3++;}}break;}$x1c = $xd0(array("<", "\076"), array("\x7b([", "\135)}"), $x1c);$x17 = $xd0($x8a['fullpattern'], $x1c, $x17);}$x17 = $this->execPhpScript($x17, $x22);$x17 = $this->encode($x17);$x17 = $this->xmlEncloseData($x17);$x17 = $xd0(array("\x7b\x28\x5b", "\135)\175"), array("\x3c", "\076"), $x17);if ($x34[0] != '*') {$xa0 = 0;foreach ($xb9("\054", $x22->getCategoriesIds()) as $x1b => $x43) {if (isset($x42[$x43])) {if ($xbe($x42[$x43]['path'], $x34)) {$xa0++;}}};if ($xa0 < 1) {$x17 = '';}}if (!empty($x17)) {$x3a.=("\074\151te\155>");$x3a.="\n" . $x17 . "\n";$x3a.=("<\057\x69tem>" . "\n");$x82++;}if ($this->_display) {$x3b.=$x3a;$x3a = '';} else {if ($x82 % 10 == 0) {$x0b->streamWrite($x3a);unset($x3a);$x3a = '';}}if ($this->_limit && $x82 > $this->_limit) {break 2;}}}$x3a.=('</channel>' . "\n");$x3a.=('</rss>');if (!$this->_display) {$x0b->streamWrite($x3a);}unset($x70);$x3b.=$x3a;if ($this->_display && !$this->_debug) {$xac = "<\x70\162\x65\x20nam\145\075'\x63\x6fd\x65'\x20\x63\154\x61s\x73\075'\x78\x6d\x6c'\x3e" . $xbc($x3b) . "\x3c/\x70re\x3e";return("\015
    		\x3ch\164\x6d\154\x3e\x0d\x0a\040\x20\040 		<\150\145\141\x64>
\012  \040\040		<t\151t\154\145\x3e" . $this->getFeedName() . "</\164i\x74l\x65>\x0d\012\x20\x20\040\x20\011\x09\x09<lin\x6b\x20\x74y\x70\x65\075'\x74e\x78t\x2f\143ss'\040\x72\145\x6c\x3d'\x73\x74\x79lesh\x65e\x74'\x20\150r\x65f\075'" . $x2a . "\x73\153i\156\057\x61\144m\151\x6e\x68tml\057d\145\146a\165\x6c\164/\144e\x66a\165\x6c\164\x2f\x53\171n\x74\x61x\110\151\147\150\154igh\164\145r\057\x63ss/\x53y\x6et\x61x\110\151\x67\x68\154i\x67\x68t\x65\x72\056\143\x73\163'\076\x3c\057\x6c\151n\153\076\x0d\012	\011\x09\x3c\163\x63rip\164 \154a\x6e\x67\165a\147e\x3d'\x6a\x61\x76\x61sc\162\151p\164' \163\162\143='" . $x2a . "\x73k\x69n\057a\144\x6d\x69\156\x68\164m\x6c/d\145\146a\x75\154\164/\x64\x65\146\x61\x75\154\x74\057Sy\156\x74\x61x\110\x69gh\x6c\151gh\164\145r\057\x6a\x73\057sh\103\157\x72\145\x2ej\163'\x3e\x3c\x2fs\x63\162\151\x70t\076\x0d
\x09	\x09\x3c\163cr\151\x70\164 \154\x61\x6egua\147e\075'\152\x61va\163\x63\162i\x70\x74'\040\163\162c\x3d'" . $x2a . "\163\x6b\151\x6e\x2f\x61dm\x69\x6eht\155\154/de\x66a\x75l\x74\x2f\144\x65\x66\141\165\154\164\x2fSy\156\x74a\170High\x6c\151g\x68\x74\145\x72/\x6a\x73/sh\102\x72u\163\150\130\x6dl\056\152\163'\076\074\057\163\143r\x69\x70\x74>\015\012\x20 \040\x20\011	
\011\011	<\057\150\x65a\x64>
\012\011\x09\011\074\x62\x6f\x64\171\x3e
\011	\x09" . $xac . "\015\x0a\x09\011	<\163\143\x72i\x70\x74\040lan\x67\165\141\x67\x65='\152\141va\163\x63\162\151\x70\164'>\015\x0a	\011\x09\x0d
	\011	\x64\x70.\x53\171\x6e\164\x61\x78\110\151\147h\154i\x67h\164\x65r\x2e\110igh\154\151gh\x74\x41\x6c\x6c('\143\157\x64\145'\x2c\146\x61ls\145\x2cf\x61\x6c\163\x65\x2c\x66\141\154se,\146a\x6c\163e\051\x3b\x0d
\011\011	\074\057\x73c\x72i\160\x74\x3e\x0d
\x09	\x09</\x62\x6f\144y\x3e
\x0a\x09		\074/\x68\x74\x6dl\x3e");} elseif ($this->_debug) {echo "<\142r\x3e\074\x62\162\x3e\x2d-\055--\055\055-----\040\130\115\114 \x4f\125\124\120U\124 \x2d\x2d\055-\055-\x2d-------\x2d\055<\142r\x3e";$xac = "<\x70re\x3e" . $xbd($x3b) . "\074/\x70\162\x65\076";return $xac;} else {$x0b->streamClose();$this->setSimplegoogleshopping_time(Mage::getSingleton('core/date')->gmtDate('Y-m-d H:i:s'));$this->save();}return $this;}
}
